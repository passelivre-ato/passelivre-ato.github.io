//dna.min_2.1.28
var DnaUOL=function(){function t(){this.closure=[],this.uid=null,this.instanceId={},this.hasAlarm=!1,this.updateTimeout=3e3,this.unloadBinded=!1,this.hasSupport=function(){var e=!0;if("sessionStorage"in window)try{sessionStorage.setItem("hasSupport",""),sessionStorage.removeItem("hasSupport")}catch(t){e=!1}else e=!1;return e}()}function a(){if(f.hasSupport&&"dnaThread"in sessionStorage){var e=[],t=sessionStorage.getItem("dnaThread");if("finished"==t)sessionStorage.setItem("dnaThread",""),e=[];else try{e=JSON.parse(t)}catch(t){e=[]}for(var a=-1,r=[],i={},n=f.closure.concat(e),o=0;o<n.length;o++){var s=!1;n[o].id in i?n[o].update>i[n[o].id].update&&(s=!0):s=!0,s&&(i[n[o].id]=n[o],n[o].update>a&&(a=n[o].update))}for(var c in i)r.push(i[c]);f.closure=r}}function r(){if(f.hasSupport&&"finished"!=sessionStorage.getItem("dnaThread")){var e=!1;if(f.closure.length>0){for(var t=u(),a=0;a<f.closure.length;a++)f.closure[a].update=t;var r=JSON.stringify(f.closure);try{sessionStorage.setItem("dnaThread",r)}catch(t){e=!0}}else e=!0;e&&sessionStorage.setItem("dnaThread","")}}function n(){var e=!0,t=[];for(var a in f.closure){var r=/((no)*hasUid|finalized)/i.test(f.closure[a].status);e=e&&r,r||t.push(f.closure[a])}return f.closure=t,e}function o(e){for(var t=0;t<f.closure.length;t++)if(f.closure[t].id==e)return t;return-1}function s(){var e=[],t=[],i=!1;a();for(var n in f.closure){var s=f.closure[n];"standby"==s.status&&(1==s.detect?e.push(s.id):t.push(s.id)),"initiated"==s.status&&(i=!0)}if(e.length>0&&!i){e=e.concat(t);var c=f.closure[o(e[0])];for(var l in f.instanceId)l!=e[0]||i||(c.instance=f.instantiate(c.options,c.id),c.status="initiated",store=!0,i=!0)}r()}function c(){a();for(var e=!1,t=[],r=-1,i=0;i<f.closure.length;i++){var n=f.closure[i];-1!=n?(f.closure[i].update>r&&(r=f.closure[i].update),"standby"==n.status?e=!0:"initiated"==n.status&&t.push(n)):console.error("DnaUOL wakeUp fail")}if(0==t.length)s();else for(var i=0;i<t.length;i++)r-t[i].update>f.updateTimeout&&s();e&&(f.hasAlarm=!0,setTimeout(c,250))}this._$={};var l=function(){var t={parent:f,ts:null,phrase:null,networkTime:0},a={async:function(){function e(e,t,a,i){var n={maxCalls:i||Number.POSITIVE_INFINITY,actualCall:0,data:[],lastComputedData:null,error:[],lastComputedError:null,lastCall:!1,proceed:function(){},then:function(){},clear:function(){},stopOnError:!0,isRunning:!0,userData:e,intervId:null},o=function(e,a){function i(){if(0==a&&(n.isRunning=!1,clearInterval(n.intervId)),1==a&&(n.lastCall=!0),a-- >0)try{i.state.data[n.actualCall]=t.call(i,n),i.state.lastComputedData=i.state.data[n.actualCall],n.actualCall+=1}catch(e){n.stopOnError&&(a=0),i.state.error[n.actualCall]=e,i.state.lastComputedError=i.state.error[n.actualCall];try{i.state.data[n.actualCall]=t.call(i,n),i.state.lastComputedData=i.state.data[n.actualCall]}catch(e){n.stopOnError||(n.actualCall+=1)}}if(a!=Number.POSITIVE_INFINITY&&i.state.userData&&!/__nolog/.test(i.state.userData)){var o="object"==typeof i.state.userData?i.state.userData[0]+i.state.userData[1]:i.state.userData;r.debug("async_"+o,{wait:e,times:a,actualCall:i.state.actualCall,maxCalls:i.state.maxCalls})}}return n.clear=function(){return n.isRunning?(a=0,n.isRunning=!1,clearInterval(n.intervId),null):null},n.proceed=function(){return n.isRunning?null:(a=n.maxCalls-n.actualCall,n.isRunning=!0,null)},i.state=n,i.clear=n.clear,i.proceed=n.proceed,i}(a,i||Number.POSITIVE_INFINITY);return n.intervId=setInterval(function(){o()},a),o}function t(t,a,r,i){return e(t,a,r,i)}return t}(),glMatrix:function(){return'glMatrixArrayType=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;var mat4={};mat4.create=function(a){var b=new glMatrixArrayType(16);if(a){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}return b};mat4.identity=function(a){a=a||new Float32Array(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};mat4.translate=function(a,b,c){var d=b[0],e=b[1];b=b[2];if(!c||a==c){a[12]=a[0]*d+a[4]*e+a[8]*b+a[12];a[13]=a[1]*d+a[5]*e+a[9]*b+a[13];a[14]=a[2]*d+a[6]*e+a[10]*b+a[14];a[15]=a[3]*d+a[7]*e+a[11]*b+a[15];return a}var g=a[0],f=a[1],h=a[2],i=a[3],j=a[4],k=a[5],l=a[6],o=a[7],m=a[8],n=a[9],p=a[10],r=a[11];c[0]=g;c[1]=f;c[2]=h;c[3]=i;c[4]=j;c[5]=k;c[6]=l;c[7]=o;c[8]=m;c[9]=n;c[10]=p;c[11]=r;c[12]=g*d+j*e+m*b+a[12];c[13]=f*d+k*e+n*b+a[13];c[14]=h*d+l*e+p*b+a[14];c[15]=i*d+o*e+r*b+a[15];return c};mat4.perspective=function(a,b,c,d,e){a=c*Math.tan(a*Math.PI/360);b=a*b;return mat4.frustum(-b,b,-a,a,c,d,e)};mat4.frustum=function(a,b,c,d,e,g,f){f||(f=mat4.create());var h=b-a,i=d-c,j=g-e;f[0]=e*2/h;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=e*2/i;f[6]=0;f[7]=0;f[8]=(b+a)/h;f[9]=(d+c)/i;f[10]=-(g+e)/j;f[11]=-1;f[12]=0;f[13]=0;f[14]=-(g*e*2)/j;f[15]=0;return f};'},swfObject:function(){return'DnaUOL.swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit[/](d+(.d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*s+(S+s+S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*.(.*)s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+encodeURI(O.location).toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=" class=\'"+ai[ae]+"\'"}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+"=\'"+ai[ae]+"\'"}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+="<param name=\'"+ad+"\' value=\'"+ag[ad]+"\' />"}}aa.outerHTML="<object classid=\'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\'"+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\'<>.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in DnaUOL.swfobject){DnaUOL.swfobject[X]=null}DnaUOL.swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/[?]/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();'}};this._$="_$"in this?_$:{},_$.utils=a;var Config=new function(){var e="/service",a={_ad:["dna.uol.com.br","dna.intranet.uol.com.br"],_ap:"https://",_ak:"DNA",_ll:["error"],_lfd:"f",_uf:30,_muf:365,_cvs:"|",_usp:e+"/sample",_srsp:e+"/sample/conn",_lp:e+"/logger",_csp:e+"/cookie",_esp:e+"/etag",_bsp:e+"/base64",_acsp:e+"/iframe",_fssp:e+"/iframefs",_ssp:e+"/drp",_simpleSyncServicePath_:e+"/ts",_op:!1,_wi:"dna-uol-wrapper",_ws:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_ai:30,_maa:15,_ics:!0,_udif:!0,_sc:"default",_sv:"2.1.28",_guid:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)})}()};t._ad=a._ad[0],t._ap=a._ap,t.appUrl=t._ap+t._ad,g.guid=a._guid,this.get=function(e){return void 0!==a[e]?a[e]:null}};this._$="_$"in this?_$:{},_$.config=Config;var r=new function(){var e,a,i={},o=0,c={},l=[],u=[],f={process:0,elapsed:0,count:0},g=this,p=function(e){e.type in u&&u[e.type]++;var a=e.stack.join("_");a in c?c[a].push(e):c[a]=[e],"consoleLog"in t&&!0===t.consoleLog&&console.log("["+e.type.toUpperCase()+"]",e.time,a,e.messages),o++},h=function(){var e={};if(o!=c.length){e.scriptVersion='"'+_$.config.get("_sv")+"_"+_$.config.get("_sc")+'"',e.guid='"'+_$.config.get("_guid")+'"',e.navigator={},e.navigator.userAgent='"'+String(t.browser.name+" ("+navigator.userAgent+")")+'"',e.navigator.platform='"'+String(navigator.platform)+'"',e.origin='"'+String(""!=t.parent?t.parent:location.protocol+"//"+location.hostname+location.pathname)+'"',e.date='"'+String(r.getNowDate(!0))+'"',"performance"in window&&"timing"in performance&&(e.timing=v()),e.log=m();var i="persist"!=_$.config.get("_sc")?(new d).get("resolution").get():null;"mobile"in t.browser&&(e.navigator.mobile='"'+t.browser.mobile+(i?" "+i.physicalResolution+" "+i.devicePixelRatio+'dppx"':'"')),a=e}else e=a;return e},v=function(){var e=performance.timing,t={};t.navigationStart=e.navigationStart;for(var a in e)/boolean|string|number/.test(typeof e[a])&&"navigationStart"!=a&&(t[a]=e[a]>0?e[a]-t.navigationStart:e[a]);return'"'+JSON.stringify(t).replace(/"/g,"'")+'"'},m=function(){var e={};for(var t in c){for(var a={},r=0;r<c[t].length;r++){var i=c[t][r],n="";"debug"!=i.type&&(n+="["+i.type.toUpperCase()+"] ");for(var o=0;o<i.messages.length;o++)n+="object"==typeof i.messages[o]?JSON.stringify(i.messages[o]):String(i.messages[o]);n=n.replace(/(\:\s*|\[|,)""/g,"$1''"),a[i.time]='"'+n.replace(/([^\\])"/g,"$1'")+'"'}var s=e,l=i.stack.slice(0);do{var u=l.shift();u in s||(s[u]=0==l.length?a:{}),s=s[u]}while(l.length>0)}return e},y=function(){var e=h(),t=[],a=0;t.push("\n\n{");for(var r in e)t.push(b(r,e[r],0,a)),a++;return t.push("\n}"),t.join("")},b=function(e,t,a,r){for(var i,n="",o=0;o<a;o++)n+="\t";if(i=r?", ":"  ","object"==typeof t){var s="\n"+n+i+'"'+e+'": {';r=0;for(var c in t)s+=b(c,t[c],o+1,r),r++;return s+="\n"+n+"}"}if(t instanceof Array)return"\n"+n+i+'"'+e+'": "['+t.join(", ")+']"';if("function"==typeof t)return"\n"+n+i+'"'+e+'": "[function]"';var c=String(t);return/optionalImageCanvas/.test(c)&&(c=c.replace(/(base64,[a-zA-Z0-9\+\/]{100})[a-zA-Z0-9\+\/]+([a-zA-Z0-9\+\/\=]{100}\')/g,"$1...$2")),c=c.replace(/'\:\s*'"\s*(\}|,)/g,"':''$1"),"\n"+n+i+'"'+e+'": '+c},C=function(){var e=0;for(var t in u)e+=u[t];return e>0},S=function(e){try{var t=_$.config.get("_lfd").split(" ");if(e){var a=e.getUid();return!!/[0-9a-f]{32}/.test(a)&&w(a,t)}return w("0123456789abcdef".substring(parseInt(16*Math.random(),10),1),t)}catch(e){return!1}},w=function(e,t){for(var a=!1,r=0;r<t.length;r++){new RegExp("^"+t[r]).test(e)&&(a=!0)}return a},D=function(e){var a=t.appUrl+_$.config.get("_lp");s.post({url:a,data:e,dataType:"text",error:function(e){A(e)}})},A=function(e){var a={};for(var r in c)if(/xhrRequest_(.*error|NoCrossDomain)/i.test(r)||/XDRequest_(onerror|tryAgain|timeout)/i.test(r))for(var i=0;i<c[r].length;i++){var n=c[r][i].messages[0].url.match(/\/(\w+).*/);n.length>=1&&(a[n[1]]=c[r][i].messages[0].status?c[r][i].messages[0].status:0)}var o=t.appUrl+_$.config.get("_lp");s.get({url:o,data:a,cache:!1})},_=function(e,t){var a="";t=t||(e.length>2?e.length:2);for(var r=0;r<t-1;r++)a+="0";var i=a+e;return i.substr(i.length-t)},E=function(){return(new Date).getTime()};this.getNow=function(){return E()},this.getNowDate=function(e){var t=new Date,a="";return e&&(a+=String(_(t.getDate())+"/"+_(t.getMonth()+1)+"/"+t.getFullYear()+" ")),a+=String(_(t.getHours())+":"+_(t.getMinutes())+":"+_(t.getSeconds())+"."+_(t.getMilliseconds(),3))},this.startTimer=function(e){e&&""!=e||(e="default",B()),e in i||(i[e]=E())},this.getTime=function(e){return e&&""!=e||(e="default"),e in i?E()-i[e]:null};var B=function(){setInterval(function(){f.process++},1)},T=function(){var e=E(),t={process:f.process,elapsed:e-(f.elapsed?f.elapsed:E()-1),count:f.count};return f.process=0,f.elapsed=e,f.count++,t};this.commit=function(e){var a=g.getTime(),i={};if(i.total=a,t&&(i.process=a-t.networkTime,i.network=t.networkTime),r.debug("performance",i),C()&&S(e))try{r.debug("send_logger",!0);var n=y();D(n)}catch(e){A(e)}},this.getData=function(){return y()},this.getObjectData=function(){return h()};var x=function(e,t,a){var r=g.getTime(),i=T();return{stack:l.concat(e),time:"N"+f.count+"_T"+r+"_E"+i.elapsed+"_P"+i.process,type:a,messages:t}},I=function(e){e.constructor!==Array&&(e=[e]);for(var t=e.length-1;t>=0;t--)l[l.length-1]==e[t]&&l.pop()},R=function(e,t){var a=e[0].match(/^([\+|\-]*)(.*)/),r=null,i="";if("+"==a[1]&&l[l.length-1]!=a[2])l=l.concat(a[2].split("."));else if("-"==a[1])I(a[2].split("."));else{var n=e[0].split(".");n.length>1?(i=n.pop(),r=n,l=l.concat(n)):i=a[2]}if(e.length>1){for(var o=[],s=1;s<e.length;s++)o.push(e[s]);p(x(i,o,t))}r&&I(r)};this.error=function(){R(arguments,"error")},this.warning=function(){R(arguments,"warning")},this.debug=function(){R(arguments,"debug")},this.info=function(){R(arguments,"info")},this.addEvent=function(e){R(["external",n.toHtmlEntities(n.trim(String(e)))],"event")},this.begin=function(t){e="object"==typeof t?t:["error","warning","debug"];for(var a in e)u[e[a]]=0}};this.Log=r;var n=new function(){var e=_$.config.get("_ws"),a=this;this.getHtmlWrapper=function(){var e=!1;try{var t=_$.config.get("_wi");if(null!=document.getElementById(t))e=document.getElementById(t);else{var e=document.createElement("div");e.id=t,e.style.width="0px",e.style.height="0px",e.style.position="absolute",e.style.top="-100000px",e.style.overflow="hidden",document.getElementsByTagName("body")[0].appendChild(e)}}catch(e){r.error("Helpers.getHtmlWrapper",e)}return e},this.removeHtmlWrapper=function(){var e=!1;try{var t=this.getHtmlWrapper();t&&t.parentNode.removeChild(t),e=!0}catch(e){r.error("Helpers.removeHtmlWrapper",e)}return e},this.removeHtmlElement=function(e){var t=!1;try{"string"==typeof e&&(e=document.getElementById("id")),e&&(this.getHtmlWrapper().removeChild(e),t=!0)}catch(e){r.error("Helpers.removeHtmlElement",e)}return t},this.createHtmlElement=function(e,t){var a=!1;try{if(a="string"==typeof t.id&&document.getElementById(t.id)?document.getElementById(t.id):document.createElement(e)){for(var i in t)"id"==i&&"string"==typeof t[i]?a.id=t.id:"html"==i&&"string"==typeof t[i]?a.innerHTML=t.id:a.setAttribute(i,t[i]);this.getHtmlWrapper().appendChild(a)}}catch(e){r.error("Helpers.createHtmlElement",e)}return a},this.getBrowser=function(){var e={};try{var t=(arguments.length>0&&"string"==typeof arguments[0]?arguments[0]:navigator.userAgent).toLowerCase();switch(!0){case/opera.*version\/(\d+)([\d\.]*)/.test(t):case/opera[\/\s](\d+)([\d\.]*)/.test(t):case/opr\/(\d+)([\d\.]*)/.test(t):e=o("OPERA","isOpera",RegExp.$1,RegExp.$2);break;case/trident\/.*rv\:(\d+)([\d\.]*)/.test(t):case/msie[\/\s](\d+)([\d\.]*)/.test(t):e=o("MSIE","isIE",RegExp.$1,RegExp.$2);break;case/edge\/(\d+)([\d\.]*)/.test(t):e=o("EDGE","isEdge",RegExp.$1,RegExp.$2);break;case/chrome\/(\d+)([\d\.]*)/.test(t):case/crios\/(\d+)([\d\.]*)/.test(t):e=o("CHROME","isChrome",RegExp.$1,RegExp.$2);break;case/android.*version\/(\d+)([\d\.]*).*safari/.test(t):e=o("ANDROID BROWSER","isAndroidBrowser",RegExp.$1,RegExp.$2);break;case/fxios\/(\d+)([a-z\d\.]*)/.test(t):e=o("FIREFOX","isFirefox",RegExp.$1,RegExp.$2);break;case/version\/(\d+)([\d\.]*).*safari/.test(t):case/iphone.*instagram\s(\d+)([\d\.]*)/.test(t):case/iphone|ipad.*os\s(\d+)([\d_]*)/.test(t):e=o("SAFARI","isSafari",RegExp.$1,RegExp.$2);break;case/firefox\/(\d+)([\d\.]*)/.test(t):e=o("FIREFOX","isFirefox",RegExp.$1,RegExp.$2);break;case/adobeair\/(\d+)([\d\.]*)/.test(t):e=o("ADOBEAIR","isAdobeAir",RegExp.$1,RegExp.$2);break;default:e=o("","","-1","")}n.isMobile.Android()?e.mobile="ANDROID":n.isMobile.BlackBerry()?e.mobile="BLACKBERRY":n.isMobile.iOS()?e.mobile="iOS":n.isMobile.Windows()&&(e.mobile="IEMobile"),e.name=e.alias+" "+e.nVersion}catch(e){r.error("Helpers.getBrowser",e)}return e};var o=function(e,t,a,r){var i={alias:e,version:"-1"==a?"":a+r,nVersion:parseInt(a,10)};return""!=t&&(i[t]=!0),i};this.isMobile={Android:function(){return/android/i.test(navigator.userAgent)},BlackBerry:function(){return/blackberry/i.test(navigator.userAgent)},iOS:function(){return/iP(hone|ad|od)/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return a.isMobile.Android()||a.isMobile.BlackBerry()||a.isMobile.iOS()||a.isMobile.Windows()}},this.flashSupport=function(){var e=!1;try{t.browser.isIE&&"undefined"!=typeof ActiveXObject?e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")):(t.browser.isChrome&&t.browser.nVersion<53||t.browser.isFirefox&&t.browser.nVersion<48||!t.browser.isChrome&&!t.browser.isFirefox)&&(e=navigator.mimeTypes&&Boolean(navigator.mimeTypes["application/x-shockwave-flash"]))}catch(t){r.debug("Helpers.flashSupport","Navegador não suporta flash"),e=!1}return e},this.getCookie=function(e,t){var a=e.split(";"),r="",n="",o=!1;for(i=0;i<a.length;i++){if(r=a[i].split("="),r[0].replace(/^\s+|\s+$/g,"")==t)return o=!0,r.length>1&&(n=unescape(r[1].replace(/^\s+|\s+$/g,""))),n;r=null,""}if(!o)return null},this.trim=function(e){var t=e;try{t=null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}catch(e){r.error("Helpers.trim",e)}return t},this.setUrlParameter=function(e,t,a){var i="";try{if(e.indexOf("&"+t+"=")>-1||0==e.indexOf(t+"=")){var n=e.indexOf("&"+t+"=");-1==n&&(n=e.indexOf(t+"="));var o=e.indexOf("&",n+1);return-1!=o?e.substr(0,n)+e.substr(o+(n?0:1))+"&"+t+"="+a:e.substr(0,n)+"&"+t+"="+a}i=e+"&"+t+"="+a}catch(e){r.error("Helpers.setUrlParameter",e)}return i},this.getUrlParameter=function(e,t){if("string"==typeof e&&"string"==typeof t)try{for(var a=t+"=",i=e.split(/[;&]/),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(a))return o.substring(a.length,o.length)}}catch(e){r.error("Helpers.getUrlParameter",e)}return""},this.encode=function(t){var a="";if("string"==typeof t)try{var i,n,o,s,c,l,u,d=0;for(t=this.UTF8Encode(t);d<t.length;)i=t.charCodeAt(d++),n=t.charCodeAt(d++),o=t.charCodeAt(d++),s=i>>2,c=(3&i)<<4|n>>4,l=(15&n)<<2|o>>6,u=63&o,isNaN(n)?l=u=64:isNaN(o)&&(u=64),a+=e.charAt(s)+e.charAt(c)+e.charAt(l)+e.charAt(u)}catch(e){r.error("Helpers.encode",e)}return a},this.decode=function(t){var a="";if("string"==typeof t)try{var i,n,o,s,c,l,u,d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)s=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),u=e.indexOf(t.charAt(d++)),i=s<<2|c>>4,n=(15&c)<<4|l>>2,o=(3&l)<<6|u,a+=String.fromCharCode(i),64!=l&&(a+=String.fromCharCode(n)),64!=u&&(a+=String.fromCharCode(o));a=this.UTF8Decode(a)}catch(e){r.error("Helpers.decode",e)}return a},this.UTF8Encode=function(e){var t="";if("string"==typeof e)try{for(var e=e.replace(/\r\n/g,"\n"),a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}}catch(e){r.error("Helpers.UTF8Encode",e)}return t},this.UTF8Decode=function(e){var t="";if("string"==typeof e)try{for(var a=0,i=c1=c2=0;a<e.length;)i=e.charCodeAt(a),i<128?(t+=String.fromCharCode(i),a++):i>191&&i<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&i)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),a+=3)}catch(e){r.error("Helpers.UTF8Decode",e)}return t},this.toHtmlEntities=function(e){var t=e;try{var a={20:"&#160;",22:"&#34;",27:"&#39;","3C":"&#60;","3E":"&#62;",C2A1:"&#161;",C2A2:"&#162;",C2A3:"&#163;",C2A4:"&#164;",C2A5:"&#165;",C2A6:"&#166;",C2A7:"&#167;",C2A8:"&#168;",C2A9:"&#169;",C2AA:"&#170;",C2AB:"&#171;",C2AC:"&#172;",C2AE:"&#174;",C2AF:"&#175;",C2B0:"&#176;",C2B1:"&#177;",C2B2:"&#178;",C2B3:"&#179;",C2B4:"&#180;",C2B5:"&#181;",C2B6:"&#182;",C2B7:"&#183;",C2B9:"&#185;",C2BA:"&#186;",C2BB:"&#187;",C2BC:"&#188;",C2BD:"&#189;",C2BE:"&#190;",C2BF:"&#191;",C397:"&#215;",C3B7:"&#247;",C380:"&#192;",C381:"&#193;",C382:"&#194;",C383:"&#195;",C384:"&#196;",C385:"&#197;",C386:"&#198;",C387:"&#199;",C388:"&#200;",C389:"&#201;",C38A:"&#202;",C38B:"&#203;",C38C:"&#204;",C38D:"&#205;",C38E:"&#206;",C38F:"&#207;",C390:"&#208;",C391:"&#209;",C392:"&#210;",C393:"&#211;",C394:"&#212;",C395:"&#213;",C396:"&#214;",C398:"&#216;",C399:"&#217;",C39A:"&#218;",C39B:"&#219;",C39C:"&#220;",C39D:"&#221;",C39E:"&#222;",C39F:"&#223;",C3A0:"&#224;",C3A1:"&#225;",C3A2:"&#226;",C3A3:"&#227;",C3A4:"&#228;",C3A5:"&#229;",C3A6:"&#230;",C3A7:"&#231;",C3A8:"&#232;",C3A9:"&#233;",C3AA:"&#234;",C3AB:"&#235;",C3AC:"&#236;",C3AD:"&#237;",C3AE:"&#238;",C3AF:"&#239;",C3B0:"&#240;",C3B1:"&#241;",C3B2:"&#242;",C3B3:"&#243;",C3B4:"&#244;",C3B5:"&#245;",C3B6:"&#246;",C3B8:"&#248;",C3B9:"&#249;",C3BA:"&#250;",C3BB:"&#251;",C3BC:"&#252;",C3BD:"&#253;",C3BE:"&#254;",C3BF:"&#255;"};t=t.replace(new RegExp("&","g"),"&#38;");for(var i in a){var n=decodeURIComponent("%"+i.match(/.{1,2}/g).join("%"));t=t.replace(new RegExp(n,"g"),a[i])}}catch(e){r.error("Helpers.toHtmlEntities",e)}return t},this.createIframe=function(e,a,r,i){if(("srcdoc"in document.createElement("iframe")&&"useDynamicIframe"in t?t.useDynamicIframe:_$.config.get("_udif"))&&a&&!t.browser.isIE&&!t.browser.isEdge){var o=e.toString().replace(/\t/g," ").replace(/ +/g," "),l=_$.config.get("_guid")+"-"+s(o);u(l,a);var d="object"==typeof i?c(i):"",f=r||"",g="<!DOCTYPE html><html><head>"+d+"<script>(function(){var r=("+o+')();function sendData(d){d=JSON.stringify(d);parent.postMessage("'+l+'#"+d,"'+location.protocol+"//"+location.hostname+'");}})();<\/script></head><body>'+f+"<script>document.write(location.href);<\/script></body></html>",p=document.createElement("iframe");return n.getHtmlWrapper().appendChild(p),p.title="DnaUOL",p.src="data:text/html;charset=utf-8,"+encodeURI(g),p.srcdoc=g,!0}return!1};var s=function(e){var t,a,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)a=e.charCodeAt(t),r=(r<<5)-r+a,r|=0;return r.toString(16).replace("-","g")},c=function(e){var t="";for(var a in e)t+="<script>var "+a+"="+e[a].toString()+"<\/script>";return t},l={},u=function(e,t){l[e]=t},d=function(e,t){e in l&&l[e].call(null,JSON.parse(t))},f=function(e){if("string"==typeof e.data){var t=e.data.match(/^([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})-([a-g0-9]{1,9})\#(.+)$/);t&&4==t.length&&t[1]==_$.config.get("_guid")&&d(t[1]+"-"+t[2],t[3])}},g=window.addEventListener?"addEventListener":"attachEvent",p="attachEvent"==g?"on":"";window[g](p+"message",function(e){f(e)},!1)};this.Helpers=n;var o=new function(){this.get=function(t){return void 0!==e[t]?new e[t]:null};var e=new function(){this.swf=function(){if(!g.swfobject){var e,a=document.createElement("script");t.browser.isIE&&parseInt(t.browser.version,10)<=8?a.text=_$.utils.swfObject():(e=document.createTextNode(_$.utils.swfObject()),a.appendChild(e)),document.getElementsByTagName("head")[0].appendChild(a)}this.create=function(){try{if(g.swfobject){n.createHtmlElement("div",{id:"dnauol-swf-wrapper"}).innerHTML='<div id="dnauol-swf"></div>',g.swfobject.embedSWF(t.appUrl+"/resource/dna.swf","dnauol-swf","1","1","9",{},{},{allowscriptaccess:"always"})}}catch(e){r.error("Library.swf.create",e)}},this.createHandler=function(){var e;try{e=g.swfobject.getObjectById("dnauol-swf"),e?this.handler=e:e=!1}catch(t){
r.error("Library.swf.cacheHandler",t),e=!1}return e}},this.jsonParser=function(){this.parse=function(e){if("JSON"in window&&"parse"in window.JSON)return window.JSON.parse(e);if(null===e)return e;if("string"==typeof e&&(e=n.trim(e))){return new Function('return (function(){var at,ch,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\\t"},text,error=function(m){throw {name:"SyntaxError",message:m,at:at,text:text};},next=function(c){if(c&&c!==ch){error("Expected \'"+c+"\' instead of \'"+ch+"\'");}ch=text.charAt(at);at+=1;return ch;},number=function(){var number,string="";if(ch==="-"){string="-";next("-");}while(ch>="0"&&ch<="9"){string+=ch;next();}if(ch==="."){string+=".";while(next()&&ch>="0"&&ch<="9"){string+=ch;}}if(ch==="e"||ch==="E"){string+=ch;next();if(ch==="-"||ch==="+"){string+=ch;next();}while(ch>="0"&&ch<="9"){string+=ch;next();}}number=+string;if(!isFinite(number)){error("Bad number");}else{return number;}},string=function(){var hex,i,string="",uffff;if(ch===\'"\'){while(next()){if(ch===\'"\'){next();return string;}if(ch==="\\\\"){next();if(ch==="u"){uffff=0;for(i=0;i<4;i+=1){hex=parseInt(next(),16);if(!isFinite(hex)){break;}uffff=uffff*16+hex;}string+=String.fromCharCode(uffff);}else{if(typeof escapee[ch]==="string"){string+=escapee[ch];}else{break;}}}else{string+=ch;}}}error("Bad string");},white=function(){while(ch&&ch<=" "){next();}},word=function(){switch(ch){case"t":next("t");next("r");next("u");next("e");return true;case"f":next("f");next("a");next("l");next("s");next("e");return false;case"n":next("n");next("u");next("l");next("l");return null;}error("Unexpected \'"+ch+"\'");},value,array=function(){var array=[];if(ch==="["){next("[");white();if(ch==="]"){next("]");return array;}while(ch){array.push(value());white();if(ch==="]"){next("]");return array;}next(",");white();}}error("Bad array");},object=function(){var key,object={};if(ch==="{"){next("{");white();if(ch==="}"){next("}");return object;}while(ch){key=string();white();next(":");if(Object.hasOwnProperty.call(object,key)){error(\'Duplicate key "\'+key+\'"\');}object[key]=value();white();if(ch==="}"){next("}");return object;}next(",");white();}}error("Bad object");};value=function(){white();switch(ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word();}};return function(source,reviver){var result;text=source;at=0;ch=" ";result=value();white();if(ch){error("Syntax error");}return typeof reviver==="function"?(function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}({"":result},"")):result;};}())')()(e)}throw"Invalid JSON: "+e}}}},s=new function(){function e(t){var o=function(){try{return new window.XMLHttpRequest}catch(e){throw"No XMLHttpRequest support"}}(),c={0:200,1223:204},l=!!o&&"withCredentials"in o,u=t.url,g="",p=function(){var i=c[this.status]||this.status,l=!!this.responseText&&this.responseText,u=a(t.url,i);if(200!=i&&204!=i&&304!=i&&!u)return t.attempted?(l=!1,r.error("HttpConnection.xhrRequest.load",{type:t.type,url:t.url.substr(t.url.lastIndexOf("/")),status:i,attempt:2},this,o,s(t.url)),void t.callback(l)):(t.attempted=!0,r.error("HttpConnection.xhrRequest.load",{type:t.type,url:t.url.substr(t.url.lastIndexOf("/")),status:i,attempt:1},this,o,s(t.url)),e(t),void(l=!1));if(l&&""!=l||(r.debug("HttpConnection.xhrRequest","empty response"),l=!1),n(t.url,"_simpleSyncServicePath_")||n(t.url,"_ssp"))try{l=[l,o.getResponseHeader("Date")]}catch(e){return void t.error(e)}r.debug("HttpConnection.xhrRequest",{type:t.type,url:t.url.substr(t.url.lastIndexOf("/")),status:i,attempted:t.attempted,performance:s(t.url)}),t.callback(l)},h=function(e){var a={type:t.type,url:t.url.substr(t.url.lastIndexOf("/")),status:o.status,textStatus:o.textStatus};r.error("HttpConnection.xhrRequest.error",a,e,o,s(t.url)),t.error(a)};if(!l)throw r.error("HttpConnection.xhrRequest.NoCrossDomain",{url:t.url.substr(t.url.lastIndexOf("/"))},"No crossdomain support"),"No crossdomain support";g=d(t.data),/^(GET|HEAD)$/i.test(t.type)&&(u=f(u,t.cache,g)),o.open(t.type,u,!0),0!=t.withCredentials&&(o.withCredentials=t.withCredentials),t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),/^POST$/i.test(t.type)&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");for(i in t.headers)o.setRequestHeader(i,t.headers[i]);o.onload=p,o.onerror=h;try{o.send(g&&/^POST$/i.test(t.type)?g:null)}catch(e){throw r.error("HttpConnection.xhrRequest.sendError",{url:t.url.substr(t.url.lastIndexOf("/"))},e),e}}function a(e,t){return(n(e,"_ssp")||n(e,"_srsp"))&&200!=t&&412!=t&&r.error("sync response",{url:e,status:t}),(n(e,"_usp")||n(e,"_srsp"))&&403==t||n(e,"_csp")&&(404==t||0==t)||n(e,"_esp")&&(412==t||0==t)||n(e,"_ssp")&&(412==t||403==t)}function n(e,t){return e.indexOf(_$.config.get(t))>-1}function s(e){var a="null";if("performance"in window&&"getEntriesByType"in performance)for(var r=performance.getEntriesByType("resource"),i=0;i<r.length;i++)if(r[i].name.indexOf(e)>=0){if("toJSON"in r[i])a=r[i].toJSON();else{var n={};for(var o in r[i])/boolean|string|number/.test(typeof r[i][o])&&(n[o]=r[i][o]);a=n}t&&(t.networkTime+=r[i].duration)}return JSON.stringify(a)}function c(a,i){var n="",s=a.url,l=new XDomainRequest,u=null==i||i,g=function(i){if(u){u=!1;var n=parseInt(t.browser.version,10);n>=7&&n<=9?c(a,u):e(a)}else{a.attempted=!0;var o={url:a.url.substr(a.url.lastIndexOf("/")),type:i,attempt:2};r.error("HttpConnection.XDRequest.tryAgain",o),a.error(o)}};n=d(a.data),/^(GET|HEAD)$/i.test(a.type)&&(s=f(s,a.cache,n)),l.open(a.type,s),l.onprogress=function(){},l.onload=function(){var e=!!l.responseText&&l.responseText,t=new o.get("jsonParser"),i=t.parse(e);if(e&&!("_id"in i))return a.attempted?(e=!1,r.error("HttpConnection.XDRequest.load",{url:s.substr(s.lastIndexOf("/")),attempt:2},e),void a.callback(e)):(a.attempted=!0,r.error("HttpConnection.XDRequest.load",{url:s.substr(s.lastIndexOf("/")),attempt:1},e),c(a,u),void(e=!1));r.debug("HttpConnection.XDRequest",{type:a.type,url:s.substr(s.lastIndexOf("/")),attempted:a.attempted}),a.callback(e)},l.ontimeout=function(){r.error("HttpConnection.XDRequest.timeout",{url:s.substr(s.lastIndexOf("/")),attempted:a.attempted}),g("timeout")},l.onerror=function(){r.error("HttpConnection.XDRequest.onerror",{url:s.substr(s.lastIndexOf("/")),attempted:a.attempted}),g("error")},l.timeout=3e3,l.send(n&&/^POST$/i.test(a.type)?n:null)}var l=(new Date).getTime(),u=function(a,r){var i={type:r,url:a.url?a.url:"",data:a.data?a.data:"",callback:"function"==typeof a.callback?a.callback:function(e){},error:"function"==typeof a.error?a.error:function(e){},cache:!!a.cache&&a.cache,ifModified:!!a.ifModified&&a.ifModified,headers:a.headers?a.headers:{},dataType:a.dataType?a.dataType:"html",mimeType:a.mimeType?a.mimeType:"",withCredentials:!("withCredentials"in a)||a.withCredentials};Boolean(t.browser.isIE&&t.browser.nVersion<=9)?c(i):e(i)},d=function(e){var t="";if("object"==typeof e&&e!={}){var a=[];for(var r in e)a.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));t=a.join("&")}else"string"==typeof e&&(t=e);return t},f=function(e,t,a){var r=/([?&])_=[^&]*/,i=function(e){return/\?/.test(e)?"&":"?"};return e+=a?i(e)+a:"",!1===t&&(e=r.test(e)?e.replace(r,"$1_="+l++):e+(i(e)+"_=")+l++),e};this.get=function(e){g(e,"GET")},this.post=function(e){g(e,"POST")},this.head=function(e){g(e,"HEAD")},this.doRequest=function(e){g(e)};var g=function(e,t){try{t=Boolean(t)?t:e.method,u(e,t)}catch(i){var a=e.url?e.url:"NO URL";r.error("HttpConnection."+t,{url:a.substr(a.lastIndexOf("/"))},i)}}},c=function(){var e,t,a;this.getUid=function(){return e},this.setUid=function(t){e=n.trim(String(t))},this.getLastUpdate=function(){return t},this.setLastUpdate=function(e){e&&(t="object"==typeof e?new Date(e.getTime()):"null"==e?"null":isNaN(e)||13!=String(e).length?new Date(parseInt(e,16)):new Date(parseInt(e,10)))},this.getDetectionFlag=function(){return a},this.setDetectionFlag=function(e){a=Boolean(e)},this.setAttributes=function(e){"object"==typeof e?(e.uid&&this.setUid(e.uid),e.lastUpdate&&this.setLastUpdate(e.lastUpdate),e.detectionFlag&&this.setDetectionFlag(e.detectionFlag)):"string"==typeof e&&this.parseString(e)},this.parseString=function(e){if("string"==typeof e){var t=_$.config.get("_cvs"),a=e.split(t);a[0]&&this.setUid(a[0]),a[1]&&this.setLastUpdate(a[1]),a[2]&&this.setDetectionFlag(a[2])}},this.getString=function(){var r=[];return r.push(e?n.trim(e):""),"object"==typeof t&&t?r.push(n.trim(t.getTime().toString(16))):"null"==t&&r.push(n.trim(t)),"boolean"==typeof a&&a&&r.push(String(a)),r.join("|")},this.getLogString=function(){return"UID ("+this.getUid()+"), LastUpdate ("+this.getLastUpdate().toString()+")"}},l=new function(){this.DeviceId=new function(){var e=new o.get("jsonParser"),a=function(a){var n=t.appUrl+_$.config.get("_usp")+"?elapsedTime="+r.getTime();s.post({url:n,cache:!1,data:a.data,dataType:"text",callback:function(t){if(t&&"string"==typeof t){var n=e.parse(t);if("_id"in n){var o=new c;o.setAttributes({uid:n._id,lastUpdate:"lastUpdate"in n?n.lastUpdate:"null"}),i(o.getString()),r.debug("callService",{Server_response:t}),a.callBack(o)}else i(null),r.debug("callService",{"Server_response (invalid json)":t}),a.callBack(!1)}else i(null),r.debug("callService",{"Server_response (304 or invalid response)":t}),a.callBack(!1)},error:function(e){i(null),r.error("callService",e),a.callBack(!1)}})};this.create=function(e){a({data:l(e),callBack:e.callback})},this.update=function(e){r.debug("Services.DeviceId.update","Updating device data, actual data: "+e.data.getLogString()),a({data:l(e),callBack:e.callback})};var i=function(e){"test"!=_$.config.get("_sc")&&f.persistUid(e,t.id)},l=function(e){var t="";try{var a,i=function(e){return n.toHtmlEntities(n.trim(String(e)))},o=function(e){return e=i(e),e=e.replace(/\./g,""),e=e.replace(/\//g,""),e=e.replace(/\\/g,"")},s=function(e,t){return'{"'+o(e)+'": "'+i(t)+'"}'},c=function(e,t){var a=[];for(var r in t)a.push('{"'+o(r)+'": "'+i(t[r])+'"}');return a=a.join(", "),'{"'+e+'": ['+a+"]}"},l=function(e,t){var a=[];for(var r in t)a[r]='"'+i(t[r])+'"';return a=a.join(", "),'{"'+e+'": ['+a+"]}"},u=function(e){return'{"'+i(e)+'": null}'},d=function(e){var t=!1;if("object"==typeof e)for(var a in e)if(e[a]){t=!0;break}return t},f=function(e){var t=!1;if("object"==typeof e)for(var a in e){t=!0;break}return t},g=null;if("object"==typeof e.detections){var p=[],h="";for(var v in e.detections){if("special"===v){for(var m in e.detections[v]){var y=e.detections[v][m],b=!1;y.timeout?b=u(m):"boolean"==y.type&&"boolean"==typeof y.value?b=s(m,String(y.value)):"string"==y.type&&"string"==typeof y.value?b=s(m,y.value):"array"==y.type&&"object"==typeof y.value&&d(y.value)?b=l(m,y.value):"json"==y.type&&"object"==typeof y.value&&f(y.value)&&(b=c(m,y.value)),b&&(h+=b),h=h.replace(/^\{/,""),h=h.replace(/\}$/,""),h=h.replace(/"(\d)/,'["$1'),h=h.replace(/(\d)"/,'$1"]')}g=h}var C=e.detections[v],S=!1;C.timeout?S=u(v):"boolean"==C.type&&"boolean"==typeof C.value?S=s(v,String(C.value)):"string"==C.type&&"string"==typeof C.value?S=s(v,C.value):"array"==C.type&&"object"==typeof C.value&&d(C.value)?S=l(v,C.value):"json"==C.type&&"object"==typeof C.value&&f(C.value)&&(S=c(v,C.value)),S&&p.push(S)}a=String("[ "+p.join(", ")+" ]")}else a="false",g="";var w="object"==typeof e.data&&e.data.getUid(),D=Boolean(w)?'"_id":"'+w+'", ':"",A='"sess":"'+e.sess+'", ',_='"elapsedTime":"'+r.getTime()+'", ',E=r.getTime("detectionTime"),B=E?'"detectionTime":"'+E+'", ':"",T='"attributes": '+a+(g?", ":""),x=g;t="{"+D+A+_+B+T+x+"}",r.debug("Services.DeviceId.parseData","Device Data ( "+_+B+T+x+")")}catch(e){r.error("Services.DeviceId.parseData",e)}return t}},this.Persistence=new function(){this.etagRequest=function(e){var a=t.appUrl+_$.config.get("_esp"),r={url:a,cache:!0,dataType:"text",headers:{},callback:!!e.callback&&e.callback,error:!!e.error&&e.error};"etag"in e&&(r.headers["If-None-Match"]=e.etag),s.get(r)},this.serverRequest=function(e){var a=t.appUrl+_$.config.get("_csp");s.get({url:a,cache:!1,dataType:"text",callback:e.callback,error:e.error})},this.imageRequest=function(e){var a=t.appUrl+_$.config.get("_imageServicePath_"),i=new Image;try{e&&(i.crossOrigin=""),i.src=String(a)}catch(e){r.error("Services.Persistence.imageRequest",e)}return i}},this.simpleRequest=function(e){var a=t.appUrl+_$.config.get("_srsp");s.get({url:a+"?id="+e.uid+"&sess="+e.sess+"&elapsedTime="+r.getTime(),cache:!1,dataType:"text",callback:function(t){r.debug("Services.simpleRequest",[{Server_response:t}]),"function"==typeof e.callBack&&e.callBack(t)},error:function(t){r.error("Services.simpleRequest",t),"function"==typeof e.callBack&&e.callBack(!1)}})},this.simpleSync=function(e){var a=t.appUrl+_$.config.get("_simpleSyncServicePath_"),r={url:a,cache:!1,dataType:"text",withCredentials:!1,callback:e.callback,error:e.error};s.head(r)},this.sync=function(e){var a="sess"in e?"?token="+e.sess:"",r=t.appUrl+_$.config.get("_ssp")+"/"+e.uid+a,i={url:r,cache:!1,dataType:"text",withCredentials:!1,callback:e.callback,error:e.error};s.get(i)}},u=function(){function e(e){if(l.style.cssText=s,!c){i=n.getElementsByTagName("body")[0];for(var t in o)l.style.fontFamily=o[t],i.appendChild(l),u[o[t]]=l.offsetWidth,d[o[t]]=l.offsetHeight,i.removeChild(l);c=!0}var p=!0;for(var t in o){var h="object"!=typeof g[f][e]?e:g[f][e].fontFamily;l.style.fontFamily=h+","+o[t];for(var v in g[f][e])"fontFamily"!=v&&"baseStyle"!=v&&(l.style[v]=g[f][e][v]);i.appendChild(l);var m=l.offsetWidth!=u[o[t]]||l.offsetHeight!=d[o[t]];m&&-1==a(l,"font-family").indexOf(r(h))&&(m=!1),p=!!m,i.removeChild(l)}return p}function t(){var t=[];for(var a in g[f])e(a)&&t.push(a);return t.length>0&&t.push("____javascript____"),t}function a(e,t){var a="";return n.defaultView&&n.defaultView.getComputedStyle?a=n.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),a=e.currentStyle[t]),a}function r(e){return e.split(",")[0].replace(/["']/g,"")}var i,n=arguments.length>=1?arguments[1]:document,o=["monospace"],s="font-size:72px;white-space:nowrap;visibility:hidden;",c=!1,l=n.createElement("span"),u={},d={},f=navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":"not_ios",g={ios:{"Academy Engraved LET Plain:1.0":{fontFamily:'"Academy Engraved LET Plain:1.0"'},"American Typewriter":"","American Typewriter Bold":"","American Typewriter Condensed":"","American Typewriter Condensed Bold":"","American Typewriter Condensed Light":"","American Typewriter Light":"","Apple Color Emoji":"","Apple SD Gothic Neo Bold":"","Apple SD Gothic Neo Heavy":"","Apple SD Gothic Neo Light":"","Apple SD Gothic Neo Medium":"","Apple SD Gothic Neo Regular":"","Apple SD Gothic Neo SemiBold":"","Apple SD Gothic Neo Thin":"","Apple SD Gothic Neo UltraLight":"","Apple SD GothicNeo ExtraBold":"","AppleGothic Regular":"","AppleGothic Regular":"","AppleMyungjo Regular":"",Arial:"","Arial Bold":"","Arial Bold Italic":"","Arial Hebrew":"","Arial Hebrew Bold":"","Arial Italic":"","Arial Rounded MT Bold":"","Avenir Black":"","Avenir Black Oblique":"","Avenir Book":"","Avenir Book Oblique":"","Avenir Heavy":"","Avenir Heavy Oblique":"","Avenir Light":"","Avenir Light Oblique":"","Avenir Medium":"","Avenir Medium Oblique":"","Avenir Next Bold":"","Avenir Next Bold Italic":"","Avenir Next Condensed Bold":"","Avenir Next Condensed Bold Italic":"","Avenir Next Condensed Demi Bold":"","Avenir Next Condensed Demi Bold Italic":"","Avenir Next Condensed Heavy":"","Avenir Next Condensed Heavy Italic":"","Avenir Next Condensed Italic":"","Avenir Next Condensed Medium":"","Avenir Next Condensed Medium Italic":"","Avenir Next Condensed Regular":"","Avenir Next Condensed Ultra Light":"","Avenir Next Condensed Ultra Light Italic":"","Avenir Next Demi Bold":"","Avenir Next Demi Bold Italic":"","Avenir Next Heavy":"","Avenir Next Heavy Italic":"","Avenir Next Italic":"","Avenir Next Medium":"","Avenir Next Medium Italic":"","Avenir Next Regular":"","Avenir Next Ultra Light":"","Avenir Next Ultra Light Italic":"","Avenir Oblique":"","Avenir Roman":"","Bangla Sangam MN":"","Bangla Sangam MN Bold":"","Baoli SC Regular":"",Baskerville:"","Baskerville Bold":"","Baskerville Bold Italic":"","Baskerville Italic":"","Baskerville SemiBold":"","Baskerville SemiBold Italic":"",BiauKai:"","Bodoni 72 Bold":{fontFamily:'"Bodoni 72 Bold"'},"Bodoni 72 Book":{fontFamily:'"Bodoni 72 Book"'},"Bodoni 72 Book Italic":{fontFamily:'"Bodoni 72 Book Italic"'},"Bodoni 72 Oldstyle Bold":{fontFamily:'"Bodoni 72 Oldstyle Bold"'},"Bodoni 72 Oldstyle Book":{fontFamily:'"Bodoni 72 Oldstyle Book"'},"Bodoni 72 Oldstyle Book Italic":{fontFamily:'"Bodoni 72 Oldstyle Book Italic"'},"Bodoni 72 Smallcaps Book":{fontFamily:'"Bodoni 72 Smallcaps Book"'},"Bodoni Ornaments":"","Bradley Hand Bold":"","Chalkboard SE Bold":"","Chalkboard SE Light":"","Chalkboard SE Regular":"",Chalkduster:"",Cochin:"","Cochin Bold":"","Cochin Bold Italic":"","Cochin Italic":"",Copperplate:"","Copperplate Bold":"","Copperplate Light":"",Courier:"","Courier Bold":"","Courier Bold Oblique":"","Courier New":"","Courier New Bold":"","Courier New Bold Italic":"","Courier New Italic":"","Courier Oblique":"","Devanagari Sangam MN":"","Devanagari Sangam MN Bold":"",Didot:"","Didot Bold":"","Didot Italic":"","Euphemia UCAS":"","Euphemia UCAS Bold":"","Euphemia UCAS Italic":"","Futura Condensed ExtraBold":"","Futura Condensed Medium":"","Futura Medium":"","Futura Medium Italic":"","Geeza Pro":"","Geeza Pro Bold":"",Georgia:"","Georgia Bold":"","Georgia Bold Italic":"","Georgia Italic":"","Gill Sans":"","Gill Sans Bold":"","Gill Sans Bold Italic":"","Gill Sans Italic":"","Gill Sans Light":"","Gill Sans Light Italic":"","Gujarati Sangam MN":"","Gujarati Sangam MN Bold":"","Gurmukhi MN":"","Gurmukhi MN Bold":"","HeadLineA Regular":"","Heiti SC Light":"","Heiti SC Medium":"","Heiti TC Light":"","Heiti TC Medium":"",Helvetica:"","Helvetica Bold":"","Helvetica Bold Oblique":"","Helvetica Light":"","Helvetica Light Oblique":"","Helvetica Neue":"","Helvetica Neue Bold":"","Helvetica Neue Bold Italic":"","Helvetica Neue Condensed Black":"","Helvetica Neue Condensed Bold":"","Helvetica Neue Italic":"","Helvetica Neue Light":"","Helvetica Neue Light Italic":"","Helvetica Neue Medium":"","Helvetica Neue UltraLight":"","Helvetica Neue UltraLight Italic":"","Helvetica Oblique":"","Hiragino Kaku Gothic ProN W3":{fontFamily:'"Hiragino Kaku Gothic ProN W3"'},"Hiragino Kaku Gothic ProN W6":{fontFamily:'"Hiragino Kaku Gothic ProN W6"'},"Hiragino Kaku Gothic StdN W8":{fontFamily:'"Hiragino Kaku Gothic StdN W8"'},"Hiragino Maru Gothic ProN W4":{fontFamily:'"Hiragino Maru Gothic ProN W4"'},"Hiragino Mincho ProN W3":{fontFamily:'"Hiragino Mincho ProN W3"'},"Hiragino Mincho ProN W6":{fontFamily:'"Hiragino Mincho ProN W6"'},"Hiragino Sans GB W3":{fontFamily:'"Hiragino Sans GB W3"'},"Hiragino Sans GB W6":{fontFamily:'"Hiragino Sans GB W6"'},"Hoefler Text":"","Hoefler Text Black":"","Hoefler Text Black Italic":"","Hoefler Text Italic":"","Kailasa Bold":"","Kailasa Regular":"","Kaiti SC Black":"","Kaiti SC Bold":"","Kaiti SC Regular":"","Kannada Sangam MN":"","Kannada Sangam MN Bold":"","Lantinghei SC Demibold":"","Lantinghei SC Extralight":"","Lantinghei SC Heavy":"","Lantinghei TC Demibold":"","Lantinghei TC Extralight":"","Lantinghei TC Heavy":"","Libian SC Regular":"","LiHei Pro":"","LiSong Pro":"","Malayalam Sangam MN":"","Malayalam Sangam MN Bold":"","Marion Bold":"","Marion Italic":"","Marion Regular":"","Marker Felt Thin":"","Marker Felt Wide":"","Nanum Brush Script":"","Nanum Pen Script":"",NanumGothic:"","NanumGothic Bold":"","NanumGothic ExtraBold":"",NanumMyeongjo:"","NanumMyeongjo Bold":"","NanumMyeongjo ExtraBold":"","Noteworthy Bold":"","Noteworthy Light":"","Optima Bold":"","Optima Bold Italic":"","Optima ExtraBlack":"","Optima Italic":"","Optima Regular":"","Oriya Sangam MN":"","Oriya Sangam MN Bold":"",Palatino:"","Palatino Bold":"","Palatino Bold Italic":"","Palatino Italic":"",Papyrus:"","Papyrus Condensed":"","Party LET Plain":"","PCMyungjo Regular":"","PilGi Regular":"","Sinhala Sangam MN":"","Sinhala Sangam MN Bold":"","Snell Roundhand":"","Snell Roundhand Black":"","Snell Roundhand Bold":"","Songti SC Black":"","Songti SC Bold":"","Songti SC Light":"","Songti SC Regular":"",STFangsong:"",Symbol:"","Tamil Sangam MN":"","Tamil Sangam MN Bold":"","Telugu Sangam MN":"","Telugu Sangam MN Bold":"",Thonburi:"","Thonburi Bold":"","Times New Roman":"","Times New Roman Bold":"","Times New Roman Bold Italic":"","Times New Roman Italic":"","Trebuchet MS":"","Trebuchet MS Bold":"","Trebuchet MS Bold Italic":"","Trebuchet MS Italic":"",Verdana:"","Verdana Bold":"","Verdana Bold Italic":"","Verdana Italic":"","Wawati SC Regular":"","Wawati TC Regular":"","Weibei SC Bold":"","Weibei TC Bold":"","Xingkai SC Bold":"","Xingkai SC Light":"","Yuanti SC Bold":"","Yuanti SC Light":"","Yuanti SC Regular":"","YuGothic Bold":"","YuGothic Medium":"","YuMincho Demibold":"","YuMincho Medium":"","Yuppy SC Regular":"","Yuppy TC Regular":"","Zapf Dingbats":"",Zapfino:"",Wingdings:""},not_ios:{"Agency FB":"",Aharoni:"",Algerian:"",Andalus:"","Angsana New":"",AngsanaUPC:"",Aparajita:"","Arabic Typesetting":"",Arial:"","Arial Black":{fontFamily:'"Arial Black",Arial',fontWeight:"900"},"Arial Rounded MT Bold":{fontFamily:'"Arial Rounded MT"',fontWeight:"bold"},"Arial Unicode MS":"","Baskerville Old Face":"",Batang:"",BatangChe:"","Bauhaus 93":{fontFamily:'"Bauhaus 93"'},"Bell MT":"","Berlin Sans FB":"","Bernard MT Condensed":{fontFamily:'"Bernard MT","Bernard MT Condensed"',fontStretch:"condensed"},"Blackadder ITC":"","Bodoni MT":"","Bodoni MT Poster Compressed":{fontFamily:'"Bodoni MT Poster"',fontStretch:"condensed"},"Book Antiqua":"","Bookman Old Style":"","Bookshelf Symbol 7":{fontFamily:'"Bookshelf Symbol 7"'},"Bradley Hand ITC":"","Britannic Bold":{fontFamily:"Britannic",fontWeight:"bold"},Broadway:"","Browallia New":"",BrowalliaUPC:"","Brush Script MT":"",Calibri:"","Californian FB":"","Calisto MT":"",Cambria:"","Cambria Math":"",Candara:"",Castellar:"",Centaur:"",Century:"","Century Gothic":"","Century Schoolbook":"",Chiller:"","Colonna MT":"","Comic Sans MS":"",Consolas:"",Constantia:"","Cooper Black":{fontFamily:'"Cooper Black",Cooper',fontWeight:"bold"},"Copperplate Gothic Bold":{fontFamily:'"Copperplate Gothic"',fontWeight:"bold"},"Copperplate Gothic Light":"",Corbel:"","Cordia New":"",CordiaUPC:"",Courier:"","Courier New":"","Curlz MT":"",DaunPenh:"",David:"","DFKai-SB":"",DilleniaUPC:"",DokChampa:"",Dotum:"",DotumChe:"",Ebrima:"","Edwardian Script ITC":"",Elephant:"","Engravers MT":"","Eras Bold ITC":{fontFamily:'"Eras ITC"',fontWeight:"bold"},"Eras Demi ITC":{fontFamily:'"Eras ITC"',fontWeight:400},"Eras Light ITC":{fontFamily:'"Eras ITC"',fontWeight:100},"Eras Medium ITC":{fontFamily:'"Eras ITC"',fontWeight:500},"Estrangelo Edessa":"",EucrosiaUPC:"",Euphemia:"",FangSong:"","Felix Titling":"",Fixedsys:"","Footlight MT Light":{fontFamily:'"Footlight MT Light","Footlight MT"',fontWeight:"100"},Forte:"","Franklin Gothic Book":"","Franklin Gothic Demi":"","Franklin Gothic Demi Cond":"","Franklin Gothic Heavy":"","Franklin Gothic Medium":"","Franklin Gothic Medium Cond":{fontFamily:'"Franklin Gothic Medium"',fontStretch:"condensed"},FrankRuehl:"",FreesiaUPC:"","Freestyle Script":"","French Script MT":"",Gabriola:"",Gadugi:"",Garamond:"",Gautami:"",Georgia:"",Gigi:"","Gill Sans MT":"","Gill Sans Ultra Bold":"","Gill Sans Ultra Bold Condensed":{fontFamily:'"Gill Sans"',fontStretch:"ultra-condensed"},Gisha:"","Gloucester MT Extra Condensed":{fontFamily:'"Gloucester MT"',fontStretch:"extra-condensed"},"Goudy Old Style":"","Goudy Stout":"",Gulim:"",GulimChe:"",Gungsuh:"",GungsuhChe:"",Haettenschweiler:"","Harlow Solid Italic":{fontFamily:'"Harlow Solid"',fontStyle:"italic"},Harrington:"","High Tower Text":"",Impact:"","Imprint MT Shadow":"","Informal Roman":"",IrisUPC:"","Iskoola Pota":"",JasmineUPC:"",Jokerman:"","Juice ITC":"",KaiTi:"",Kalinga:"",Kartika:"","Khmer UI":"",KodchiangUPC:"",Kokila:"","Kristen ITC":"","Kunstler Script":"","Lao UI":"",Latha:"",Leelawadee:"","Levenim MT":"",LilyUPC:"","Lucida Bright":"","Lucida Calligraphy":"","Lucida Console":"","Lucida Fax":"","Lucida Handwriting":"","Lucida Sans":"","Lucida Sans Typewriter":"","Lucida Sans Unicode":"",Magneto:"","Maiandra GD":"","Malgun Gothic":"",Mangal:"","Matura MT Script Capitals":"",Meiryo:"","Meiryo UI":"","Microsoft Himalaya":"","Microsoft JhengHei":"","Microsoft JhengHei UI":"","Microsoft New Tai Lue":"","Microsoft PhagsPa":"","Microsoft Sans Serif":"","Microsoft Tai Le":"","Microsoft Uighur":"","Microsoft YaHei":"","Microsoft YaHei UI":"","Microsoft Yi Baiti":"",MingLiU:"",MingLiU_HKSCS:"","MingLiU_HKSCS-ExtB":"","MingLiU-ExtB":"",Miriam:"","Miriam Fixed":"",Mistral:"",Modern:"","Modern No. 20":{fontFamily:'"Modern No. 20"'},"Mongolian Baiti":"","Monotype Corsiva":"",MoolBoran:"","MS Gothic":"","MS Mincho":"","MS Outlook":"","MS PGothic":"","MS PMincho":"","MS Reference Sans Serif":"","MS Reference Specialty":"","MS Sans Serif":"","MS Serif":"","MS UI Gothic":"","MT Extra":"","MV Boli":"",Narkisim:"","Niagara Engraved":"","Niagara Solid":"","Nirmala UI":"",NSimSun:"",Nyala:"","OCR A Extended":"","Old English Text MT":"",Onyx:"","Palace Script MT":"","Palatino Linotype":"",Papyrus:"",Parchment:"",Perpetua:"","Perpetua Titling MT":"","Plantagenet Cherokee":"",Playbill:"",PMingLiU:"","PMingLiU-ExtB":"","Poor Richard":"",Pristina:"",Raavi:"","Rage Italic":{fontFamily:"Rage",fontStyle:"italic"},Ravie:"",Rockwell:"",Rod:"",Roman:"","Sakkal Majalla":"",Script:"","Script MT Bold":{fontFamily:'"Script MT"',fontWeight:"bold"},"Segoe Print":"","Segoe Script":"","Segoe UI":"","Segoe UI Symbol":"","Shonar Bangla":"","Showcard Gothic":"",Shruti:"",SimHei:"","Simplified Arabic":"","Simplified Arabic Fixed":"",SimSun:"","SimSun-ExtB":"","Small Fonts":"","Snap ITC":"",Stencil:"",Sylfaen:"",Symbol:"",System:"",Tahoma:"","Tempus Sans ITC":"",Terminal:"","Times New Roman":"","Traditional Arabic":"","Trebuchet MS":"",Tunga:"","Tw Cen MT":"",Utsaah:"",Vani:"",Verdana:"",Vijaya:"","Viner Hand ITC":"",Vivaldi:"","Vladimir Script":"",Vrinda:"",Webdings:"","Wide Latin":"",Wingdings:"","Wingdings 2":{fontFamily:'"Wingdings 2"'},"Wingdings 3":{fontFamily:'"Wingdings 3"'}}};return l.innerHTML="TheQuickBrownFoxJumpsOverTheLazyDog. 1234567890",{detect:function(t){return e(t)},returnInstalledFonts:function(){return t()}}},d=function(){this.get=function(e){var t=!1;if("function"==typeof this.list[e])try{t=new this.list[e]}catch(t){r.error("Detections.GET",{index:e},t)}return t},this.list={sessionStorage:function(){this.type="boolean",this.get=function(){return Boolean("sessionStorage"in window)}},getBase64Canvas:function(e){this.type="string",t.browser.isIE&&parseInt(t.browser.version,10)<=8?this.get=function(){}:this.get=function(){try{var t=document.createElement("canvas"),a=t.getContext("2d");return a.textBaseline="top",a.font="14px 'Arial'",a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",a.fillText(e||_$.config.get("_ws"),2,15),a.fillStyle="rgba(102, 204, 0, 0.7)",a.fillText(e,4,17),t.toDataURL()}catch(e){return r.warning("Detection.getBase64Canvas",e),!1}}},getBase64ImageCanvas:function(){this.type="string";var e=document.createElement("canvas"),t=null;if("getContext"in e&&e.getContext("2d")){var a=function(e){try{var a=document.createElement("canvas"),i=a.getContext("2d");a.width=25,a.height=25;for(var n=function(e,t){var a=[],r=[];"1,270,71,20,11,10,21,10,71,40,11,50,11,10,21,10,11,20,11,50,11,40,11,10,31,10,11,10,21,20,11,10,11,10,31,10,11,40,11,10,31,10,11,20,11,10,11,20,11,10,31,10,11,40,11,10,31,10,11,10,11,30,11,10,11,10,31,10,11,40,11,50,11,10,11,20,21,10,11,50,11,40,71,10,11,10,11,10,11,10,71,120,51,120,21,10,11,20,21,10,21,30,31,10,21,60,21,10,21,10,11,10,11,40,11,20,11,10,11,50,21,10,11,10,31,10,21,10,21,30,11,10,21,40,41,10,11,20,41,50,31,90,11,10,51,10,11,10,11,10,11,10,31,120,11,10,21,30,31,20,11,40,71,10,31,20,11,10,11,20,11,60,11,50,11,20,51,10,31,20,11,40,11,10,31,10,11,30,21,20,71,40,11,10,31,10,11,10,11,20,11,30,11,30,21,40,11,10,31,10,11,20,11,20,11,30,21,20,11,40,11,50,11,10,31,20,41,30,11,40,71,10,11,20,21,30,31,54".replace(/(\d+)([01])/g,"$1|$2").replace(/(\d,\d+)(\||$)/g,function(e,t){for(var r=t.split(","),i=0;i<parseInt(r[1]);i++)a.push(r[0])});for(var i=-1,n=String(e),o=n.length,s=0;s<t;s++){var c=++i<o?n.charCodeAt(i):43,l=++i<o?n.charCodeAt(i):43,u=++i<o?n.charCodeAt(i):43;r.push([c,l,u])}for(var d=0;d<a.length;d++){var f="1"==a[d]?255:0;r.push([f,f,f])}return r}(e,25),o=0;o<n.length;o++)i.fillStyle="rgba("+n[o][0]+","+n[o][1]+","+n[o][2]+",1)",i.fillRect(o%25,parseInt(o/25),1,1);t=a.toDataURL()}catch(e){r.warning("Detection.getBase64ImageCanvas",e)}};this.init=function(e){e&&!isNaN(e)?a(e):(t="",r.error("Detection.getBase64ImageCanvas","empty value"))},this.get=function(){return t},this.isAvailable=function(){return null!==t}}else this.init=function(e){},this.get=function(){return""},this.isAvailable=function(){return!0}},getBase64WebGL:function(){var e=null,t=document.createElement("canvas");this.type="string";var a;try{a="WebGLRenderingContext"in window&&t.getContext("webgl")||t.getContext("experimental-webgl")||!1}catch(e){a=!1}if(a){var i=function(){function t(){var e=o.createShader(o.VERTEX_SHADER);o.shaderSource(e,"attribute vec3 aVertexPosition; attribute vec4 aVertexColor; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying vec4 vColor; void main(void) { gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); vColor = aVertexColor; }"),o.compileShader(e);var t=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(t,"precision mediump float; varying vec4 vColor; void main(void) { gl_FragColor = vColor; }"),o.compileShader(t),s=o.createProgram(),o.attachShader(s,e),o.attachShader(s,t),o.linkProgram(s),o.getProgramParameter(s,o.LINK_STATUS)||r.error("WebGL","Could not initialise shaders"),o.useProgram(s),s.vertexPositionAttribute=o.getAttribLocation(s,"aVertexPosition"),o.enableVertexAttribArray(s.vertexPositionAttribute),s.vertexColorAttribute=o.getAttribLocation(s,"aVertexColor"),o.enableVertexAttribArray(s.vertexColorAttribute),s.pMatrixUniform=o.getUniformLocation(s,"uPMatrix"),s.mvMatrixUniform=o.getUniformLocation(s,"uMVMatrix")}function a(){c=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,c);var e=[0,1,0,-1,-1,0,1,-1,0];o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),c.itemSize=3,c.numItems=3,l=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,l);var t=[1,0,0,1,0,1,0,1,0,0,1,1];o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),l.itemSize=4,l.numItems=3,u=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,u),e=[1,1,0,-1,1,0,1,-1,0,-1,-1,0],o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),u.itemSize=3,u.numItems=4,d=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,d),t=[];for(var a=0;a<4;a++)t=t.concat([.5,.5,1,1]);o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),d.itemSize=4,d.numItems=4}function i(e,t){o.uniformMatrix4fv(s.pMatrixUniform,!1,e),o.uniformMatrix4fv(s.mvMatrixUniform,!1,t)}function n(){o.viewport(0,0,o.viewportWidth,o.viewportHeight),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT);var e,t;e=[2.4142136573791504,0,0,0,0,2.4142136573791504,0,0,0,0,-1.0020020008087158,-1,0,0,-.20020020008087158,0],t=[1,0,0,0,0,1,0,0,0,0,1,0,-1.5,0,-7,1],
o.bindBuffer(o.ARRAY_BUFFER,c),o.vertexAttribPointer(s.vertexPositionAttribute,c.itemSize,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(s.vertexColorAttribute,l.itemSize,o.FLOAT,!1,0,0),i(e,t),o.drawArrays(o.TRIANGLES,0,c.numItems),t=[1,0,0,0,0,1,0,0,0,0,1,0,1.5,0,-7,1],o.bindBuffer(o.ARRAY_BUFFER,u),o.vertexAttribPointer(s.vertexPositionAttribute,u.itemSize,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,d),o.vertexAttribPointer(s.vertexColorAttribute,d.itemSize,o.FLOAT,!1,0,0),i(e,t),o.drawArrays(o.TRIANGLE_STRIP,0,u.numItems)}var o,s,c,l,u,d,f=document.createElement("canvas");f.width=250,f.height=250,e=function(){try{o=f.getContext("webgl",{preserveDrawingBuffer:!0})||f.getContext("experimental-webgl",{preserveDrawingBuffer:!0})||!1}catch(e){r.warning("Detection.getBase64WebGL","Could not initialise WebGL",e),o=!1}return!!o&&(o.viewportWidth=f.width,o.viewportHeight=f.height,t(),a(),o.clearColor(0,0,0,1),o.enable(o.DEPTH_TEST),n(),o.canvas.toDataURL())}()};this.init=function(){i()},this.get=function(){return e},this.isAvailable=function(){return!0}}else this.get=function(){return e}},optionalImageCanvas:function(){function e(e,t,a){var r=[],i=-1,n=new RegExp("[\\w\\s]{"+t+"}");e&&n.test(e)&&(i=parseInt(Math.random()*a,10));for(var o=0;o<a;o++){var s;s=o!=i?h.generate(t):e,r.push(s)}return r}function t(e,t,a,r){t.canvas.width=a,t.canvas.height=a,t.fillStyle="#000",t.fillRect(0,0,t.canvas.width,t.canvas.height);for(var i=[],n="",o=e.split(""),s=0;s<o.length;s++)n+=o[s],n.length>r&&(i.push(n),n="");for(var s=0;s<i.length;s++)t.font="bold 40px Arial",t.fillStyle="#00a",t.fillText(i[s],-15,36*(s+1)),t.font="normal 40px Arial",t.lineWidth=2,t.strokeStyle="rgba(0, 210, 255, 0.8)",t.strokeText(i[s],3,36*(s+1)),t.fillStyle="rgba(255, 128, 0, 0.5)",t.fillText(i[s],-2,36*(s+1)),t.fillStyle="rgba(255, 255, 255, 0.9)",t.fillText(i[s],0,36*(s+1)),t.font="bold 40px Arial",t.lineWidth=2,t.strokeStyle="rgba(255, 0, 0, 0.2)",t.strokeText(i[s],-3,36*(s+1));for(var c=e.length,l=0,s=0;l<c-1;s++){var u=e.charCodeAt(l++),d=e.charCodeAt(l++),f=e.charCodeAt(l++);t.fillStyle="rgba("+u+","+d+","+f+",1.0)",t.fillRect(s,0,1,1)}return t.canvas.toDataURL()}function a(e,t,a,o){var s,c,l,u,d,f;e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL);var g=e.createShader(e.VERTEX_SHADER);e.shaderSource(g,"attribute vec3 aVertexPosition; attribute vec2 aTextureCoord; uniform mat4 uMVMatrix; uniform mat4 uPMatrix; varying highp vec2 vTextureCoord; void main(void) { gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); vTextureCoord = aTextureCoord; }"),e.compileShader(g);var p=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(p,"varying highp vec2 vTextureCoord; uniform sampler2D uSampler; void main(void) { gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); }"),e.compileShader(p),s=e.createProgram(),e.attachShader(s,g),e.attachShader(s,p),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS)){var h="Unable to initialize the shader program: "+e.getProgramInfoLog(shader);throw r.warning("Detection.optionalImageCanvas",h),h}e.useProgram(s),d=e.getAttribLocation(s,"aVertexPosition"),e.enableVertexAttribArray(d),f=e.getAttribLocation(s,"aTextureCoord"),e.enableVertexAttribArray(f),c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,c);var v=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];e.bufferData(e.ARRAY_BUFFER,new Float32Array(v),e.STATIC_DRAW),l=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l);var m=[0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(m),e.STATIC_DRAW),u=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);var y=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(y),e.STATIC_DRAW);var b={shaderProgram:s,cubeVerticesBuffer:c,cubeVerticesTextureCoordBuffer:l,cubeVerticesIndexBuffer:u,vertexPositionAttribute:d,textureCoordAttribute:f};for(i=0;i<t.length;i++){var C=new Image;C.id=i;var S=t[i];C.setAttribute("data-phrase",S),C.onload=function(t){n(e,b,t.target,o)},C.src=a[i]}}function n(e,t,a,r){e.useProgram(t.shaderProgram);var i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var n=[3.7,0,0,0,0,3.7,0,0,0,0,-1.002,-1,0,0,-.2,0];e.bindBuffer(e.ARRAY_BUFFER,t.cubeVerticesBuffer),e.vertexAttribPointer(t.vertexPositionAttribute,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,t.cubeVerticesTextureCoordBuffer),e.vertexAttribPointer(t.textureCoordAttribute,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,i),e.uniform1i(e.getUniformLocation(t.shaderProgram,"uSampler"),0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.cubeVerticesIndexBuffer);var s=[.001,.06,.998,0,-.06,-.99,.06,0,.998,-.06,.001,0,0,0,-4,1],c=e.getUniformLocation(t.shaderProgram,"uPMatrix");e.uniformMatrix4fv(c,!1,new Float32Array(n));var l=e.getUniformLocation(t.shaderProgram,"uMVMatrix");e.uniformMatrix4fv(l,!1,new Float32Array(s)),e.drawElements(e.TRIANGLES,36,e.UNSIGNED_SHORT,0);var u=new Uint8Array(e.drawingBufferWidth*e.drawingBufferHeight*4);e.readPixels(0,0,e.drawingBufferWidth,e.drawingBufferHeight,e.RGBA,e.UNSIGNED_BYTE,u);for(var d=a.getAttribute("data-phrase"),f=d.length,p=0,h=0;p<f-1;h+=4)u[h+0]=d.charCodeAt(p++),u[h+1]=d.charCodeAt(p++),u[h+2]=d.charCodeAt(p++);var v=document.createElement("canvas");v.width=r,v.height=r;for(var m=v.getContext("2d"),y=m.createImageData(r,r),h=0;h<y.data.length;h+=4){var b=h;y.data[b]=u[b++],y.data[b]=u[b++],y.data[b]=u[b++],y.data[b]=u[b]}m.putImageData(y,0,0);var C=v.toDataURL();a.getAttribute("data-phrase");g.push(C),o()}function o(){g.length==u&&(f=f.concat(g))}function s(a,i,n,o,s){for(var c=e(a,i,l),u=0;u<c.length;u++){r.debug("Detection.getBase64OptionalImage",c[u].replace(/^(.{15}).*(.{15})$/,"$1...$2")),c[u]=c[u].substr(0,i-1)+"c";var d=t(c[u],n,o,s);f.push(d)}}function c(i,n){var o,c=document.createElement("canvas"),l=c.getContext("2d");s(i[0],384,l,128,26);try{var d=document.createElement("canvas");d.width=128,d.height=128,o="WebGLRenderingContext"in window&&(d.getContext("webgl")||d.getContext("experimental-webgl")||!1)}catch(e){r.warning("Detection.getBase64OptionalImage","Could not initialise WebGL",e),o=!1}if(o){for(var f=[],g=e(i[1],384,u),p=0;p<g.length;p++){r.debug("Detection.getBase64OptionalImage",g[p].replace(/^(.{15}).*(.{15})$/,"$1...$2")),g[p]=g[p].substr(0,383)+"w";var h=t(g[p],l,512,26);f.push(h)}try{a(o,g,f,128)}catch(e){r.warning("Detection.getBase64OptionalImage","WebGL crash",e),s(i[1],384,l,128,26)}}else r.warning("Detection.getBase64OptionalImage","Could not use WebGL"),s(i[1],384,l,128,26)}this.type="array";var l=3,u=3,d=l+u,f=[],g=[],p=document.createElement("canvas");if("getContext"in p&&p.getContext("2d")){var h=new function(){var e="m p b n t d f v s z r l nh ch j lh i u c g qu gu r".split(" "),t="aoeiu".split(""),a="";this.generate=function(e){var t="";do{t+=r()}while(t.length<e);return t};var r=function(){var r=!1;do{var i=e[parseInt(Math.random()*e.length)],n=t[parseInt(Math.pow(t.length,2*Math.random()-1))]}while(i==a||""==a&&i.indexOf("h")>0||"u"==n&&i.indexOf("u")>0);a=i,3*Math.random()>2&&(r=!0,a="");var o=i+n+(r?" ":"");return r=!1,a="",o}};this.init=function(e){c(e,d)},this.get=function(){return f},this.isAvailable=function(){return f.length==d}}else this.get=function(){return r.warning("Detection.optionalImageCanvas","canvas getContext no support"),""}},geolocation:function(){this.type="boolean",this.get=function(){return Boolean("geolocation"in navigator)}},socialNetworks:function(){var e={};this.ready=!1,this.type="json";var t=this,a=function(){window.fbAsyncInit=function(){FB.init({appId:"190329594333794",xfbml:!0,version:"v2.0"}),FB.getLoginStatus(function(a){"connected"===a.status&&(e.fb=a.authResponse.userID),t.ready=!0},!0)},setTimeout(function(){!function(e,t,a){var r,i=e.getElementsByTagName(t)[0];e.getElementById(a)||(r=e.createElement(t),r.id=a,r.async=!0,r.src="//connect.facebook.net/en_US/all.js",i.parentNode.insertBefore(r,i))}(document,"script","facebook-jssdk")},1)};this.init=function(){a()},this.get=function(){return e},this.isAvailable=function(){return t.ready}},globalStorage:function(){this.type="boolean",this.get=function(){return Boolean(void 0!==window.globalStorage)}},localStorage:function(){this.type="boolean",this.get=function(){return Boolean("localStorage"in window)}},openDatabase:function(){this.type="boolean",this.get=function(){return Boolean("openDatabase"in window)}},activeX:function(){this.type="boolean",this.get=function(){return Boolean("ActiveXObject"in window)}},geckoActiveX:function(){this.type="boolean",this.get=function(){return Boolean("GeckoActiveXObject"in window)}},console:function(){this.type="boolean",this.get=function(){return Boolean("console"in window)}},iEuserData:function(){this.type="boolean",this.get=function(){var e=!1,t=_$.config.get("_ak");try{var a=document.getElementById("dnauol-userdata");a.load(t),e=a.getAttribute(t)}catch(t){e=!1}return e}},ajax:function(){this.type="boolean",this.get=function(){var e,t=!1;if("undefined"!=typeof XMLHttpRequest)t=!0;else try{e=new ActiveXObject("Msxml2.XMLHTTP"),t=Boolean("indefined"!=typeof e)}catch(a){try{e=new ActiveXObject("Microsoft.XMLHTTP"),t=Boolean("indefined"!=typeof e)}catch(e){t=!1}}return t}},plugins:function(){this.type="array",this.get=function(){var e=[];if(navigator.plugins)for(var t in navigator.plugins)if("function"!=typeof navigator.plugins[t]){var a=[],r=navigator.plugins[t].name;r&&"refresh"!=r&&"namedItem"!=r&&"item"!=r&&a.push(r),navigator.plugins[t].description&&a.push(navigator.plugins[t].description),navigator.plugins[t].filename&&a.push(navigator.plugins[t].filename),navigator.plugins[t].suffixes&&a.push(navigator.plugins[t].suffixes),a.length>=1&&e.push(n.trim(a.join(" ")))}return e}},dc:function(){this.type="array",this.get=function(){var e=[];return"undefined"!=typeof document&&(void 0!==document.all&&e.push("all"),void 0!==document.anchors&&e.push("anchors"),void 0!==document.forms&&e.push("forms"),void 0!==document.getElementById&&e.push("getElementById"),void 0!==document.getElementsByTagName&&e.push("getElementsByTagName"),void 0!==document.documentElement&&e.push("documentElement"),void 0!==document.images&&e.push("images"),void 0!==document.layers&&e.push("layers"),void 0!==document.links&&e.push("links")),e}},fontsJava:function(){function e(){var e=n.createHtmlElement("div",{id:d+"-wrapper"}),t='<applet mayscript="true" width="1" height="1"  id="'+d+'" code="'+g+'" codebase="'+f+'"></applet>';e.innerHTML=t}var a=parseInt(t.browser.version,10),i=Boolean(Boolean(navigator.javaEnabled)&&navigator.javaEnabled()),o=Boolean(!isNaN(a)&&t.browser.isIE&&a>=7&&a<=9),s=Boolean(t.browser.isFirefox),c=Boolean(o||s),l=Boolean(i&&c);if(r.debug("Detection.fontsJava","navigator.javaEnabled() "+String(i)+", browser in white list "+String(c)),l)var u,d="dnauol-applet",f=t.appUrl+"/resource",g="DNA.class";this.ready=!1,this.async=!0,this.type="array",this.init=function(){e(),u=document.getElementById(d)},this.isAvailable=function(){var e;try{e=Boolean(Boolean(u)&&void 0!==u.getFonts)}catch(t){e=!1}return Boolean(e)},this.get=function(){for(var e=[],t=u.getFonts(),a=!1,r=0;r<t.length;r++)e.push(String(t[r])),a=!0;return a&&e.push("____fontsJava____"),e}},fontsFlash:function(){this.ready=!1,this.async=!0,this.type="array",n.flashSupport()?(this.init=function(){t.swfLib||(t.swfLib=o.get("swf"),_$.utils.async("swfObject__nolog",function(e){if(g.swfobject&&0==g.swfobject.getFlashPlayerVersion().major)return e.detectionReady=!0,e.clear(),null;g.swfobject&&(t.swfLib.create(),e.detectionReady=!0,e.clear()),g.swfobject||e.maxCalls!=e.actualCall+1||(e.detectionReady=!0,e.clear())},_$.config.get("_ai"),_$.config.get("_maa")))},this.get=function(){var e=[],a=t.swfLib.handler.getDeviceFonts();return"string"==typeof a&&(a=n.trim(a),";"==a.charAt(a.length-1)&&(a=a.slice(0,-1)),e=a.split(";"),e.length>=1&&e.push("____fontsFlash____")),e},this.isAvailable=function(){var e=!1;try{if(n.flashSupport()&&g.swfobject&&g.swfobject.hasFlashPlayerVersion("9")){!1!==t.swfLib.createHandler()&&"function"==typeof t.swfLib.handler.getDeviceFonts&&(e=!0)}}catch(e){r.error("Detection.fontsFlash.isAvailable",e)}return e}):(this.init=function(){},this.get=function(){return!1},this.isAvailable=function(){return!0})},fontsJs:function(){this.ready=!1,this.async=!0,this.type="array";var e=null,t=function(){window.onload=function(){var t=new window.FontDetect;e=t.returnInstalledFonts(),sendData(e)}},a=function(t){e=t};this.init=function(){n.createIframe(t,a,null,{FontDetect:u})||(e=(new u).returnInstalledFonts())},this.get=function(){return e},this.isAvailable=function(){return null!=e}},iEComponents:function(){if(this.type="array",t.browser.isIE&&parseInt(t.browser.version,10)<=8){var e;this.type="json",this.ready=!1,this.async=!0;var a=function(t){var a=!1;return void 0!==e&&void 0!==e.id&&"isComponentInstalled"in e&&(a=e.isComponentInstalled(t,"ComponentID")),a},r=function(t){var a=!1;return void 0!==e&&void 0!==e.id&&void 0!==e.getComponentVersion&&(a=e.getComponentVersion(t,"ComponentID")),a};this.init=function(){n.createHtmlElement("oClientCaps",{id:"oClientCaps-wrapper"}).innerHTML='<IE:clientCaps id="oClientCaps" style="behavior:url(#default#clientCaps);" />',e=document.getElementById("oClientCaps")},this.isAvailable=function(){return Boolean(e)},this.get=function(){var e=[],t={"47F67D00-9E55-11D1-BAEF-00C04FC2D130":"AOL ART Image Format Support","7790769C-0471-11D2-AF11-00C04FA35D02":"Address Book","76C19B38-F0C8-11CF-87CC-0020AFEECF20":"Arabic Text Display Support","76C19B34-F0C8-11CF-87CC-0020AFEECF20":"Chinese (Simplified) Text Display Support","76C19B33-F0C8-11CF-87CC-0020AFEECF20":"Chinese (Traditional) Text Display Support","4F216970-C90C-11D1-B5C7-0000F8051515":"DirectAnimation Java Classes","283807B5-2C60-11D0-A31D-00AA00B92C03":"DirectAnimation","44BBA848-CC51-11CF-AAFA-00AA00B6015C":"DirectShow","4F216970-C90C-11D1-B5C7-0000F8051515":"Dynamic HTML Data Binding for Java","9381D8F2-0288-11D0-9501-00AA00B911A5":"Dynamic HTML Data Binding","76C19B36-F0C8-11CF-87CC-0020AFEECF20":"Hebrew Text Display Support","5A8D6EE0-3E18-11D0-821E-444553540000":"Internet Connection Wizard","89820200-ECBD-11CF-8B85-00AA005B4383":"Internet Explorer Web Browser","630B1DA0-B465-11D1-9948-00C04F98BBC9":"Internet Explorer Browsing Enhancements","08B0E5C0-4FCB-11CF-AAA5-00401C608555":"Internet Explorer Classes for Java","DE5AED00-A4BF-11D1-9948-00C04F98BBC9":"Internet Explorer Help Engine","45EA75A0-A269-11D1-B5BF-0000F8051515":"Internet Explorer Help","89820200-ECBD-11CF-8B85-00AA005B4383":"Internet Explorer Web Browser","76C19B30-F0C8-11CF-87CC-0020AFEECF20":"Japanese Text Display Support","76C19B31-F0C8-11CF-87CC-0020AFEECF20":"Korean Text Display Support","76C19B50-F0C8-11CF-87CC-0020AFEECF20":"Language Auto-Selection","D27CDB6E-AE6D-11CF-96B8-444553540000":"Macromedia Flash","2A202491-F00D-11CF-87CC-0020AFEECF20":"Macromedia Shockwave Director","08B0E5C0-4FCB-11CF-AAA5-00401C608500":"Microsoft virtual machine","44BBA842-CC51-11CF-AAFA-00AA00B6015B":"NetMeeting NT","3AF36230-A269-11D1-B5BF-0000F8051515":"Offline Browsing Pack","44BBA840-CC51-11CF-AAFA-00AA00B6015C":"Outlook Express","76C19B32-F0C8-11CF-87CC-0020AFEECF20":"Pan-European Text Display Support","CC2A9BA0-3BDD-11D0-821E-444553540000":"Task Scheduler","76C19B35-F0C8-11CF-87CC-0020AFEECF20":"Thai Text Display Support","3BF42070-B3B1-11D1-B5C5-0000F8051515":"Uniscribe","90A7533D-88FE-11D0-9DBE-0000C0411FC3":"VRML 2.0 Viewer","10072CEC-8CC1-11D1-986E-00A0C955B42F":"Vector Graphics Rendering (VML)","76C19B37-F0C8-11CF-87CC-0020AFEECF20":"Vietnamese Text Display Support","4F645220-306D-11D2-995D-00C04F98BBC9":"Visual Basic Scripting Support","1CDEE860-E95B-11CF-B1B0-00AA00BBAD66":"Wallet","73FA19D0-2D75-11D2-995D-00C04F98BBC9":"Web Folders","89820200-ECBD-11CF-8B85-00AA005B4340":"Windows Desktop Update NT","23064720-C4F8-11D1-994D-00C04F98BBC9":"Windows Media Player RealNetwork Support","22D6F312-B0F6-11D0-94AB-0080C74C7E95":"Windows Media Player"};for(var i in t){var n="{"+i+"}";a(n)&&(e[t[i]]=String(r(n)))}return e}}else this.isAvailable=function(){return!0},this.get=function(){}},ct:function(){this.type="json",this.get=function(){var e=[];return void 0!==window.crypto&&(void 0!==window.crypto.version&&(e.version=window.crypto.version),void 0!==window.crypto.enableSmartCardEvents&&(e.enableSmartCardEvents=window.crypto.enableSmartCardEvents)),e}},mimeTypes:function(){this.type="json",this.get=function(){var e=[];if("object"==typeof navigator.mimeTypes&&!(t.browser.isIE&&parseInt(t.browser.version,10)<=10))for(var a in navigator.mimeTypes){var r=navigator.mimeTypes[a];if("string"==typeof r.type){var i=[];i.push(String(r.description)),i.push(String(r.enabledPlugin)),i.push(String(r.suffixes)),e[r.type]=n.trim(i.join(" "))}}return e}},svg:function(){this.type="json",this.get=function(){var e=[];if(void 0!==document.implementation&&void 0!==document.implementation.hasFeature){var t=["SVG","SVGDOM","SVG-static","SVGDOM-static","SVG-animation","SVGDOM-animation","SVG-dynamic","SVGDOM-dynamic","CoreAttribute","Structure","ContainerAttribute","ConditionalProcessing","Image","Style","ViewportAttribute","Shape","Text","PaintAttribute","OpacityAttribute","GraphicsAttribute","Marker","ColorProfile","Gradient","Pattern","Clip","Mask","Filter","XlinkAttribute","Font","Extensibility","BasicStructure","BasicText","BasicPaintAttribute","BasicGraphicsAttribute","BasicClip","BasicFilter","DocumentEventsAttribute","GraphicalEventsAttribute","AnimationEventsAttribute","Cursor","Hyperlinking","ExternalResourcesRequired","View","Script","Animation","BasicFont"];for(var a in t)e[t[a]]=document.implementation.hasFeature(String("http://www.w3.org/TR/SVG11/feature#"+t[a]),"1.1")}return e}},language:function(){this.type="json",this.get=function(){var e=[];return void 0!==navigator.language&&(void 0!==navigator.language&&(e.language=String(navigator.language)),void 0!==navigator.browserLanguage&&(e.browserLanguage=String(navigator.browserLanguage)),void 0!==navigator.systemLanguage&&(e.systemLanguage=String(navigator.systemLanguage)),void 0!==navigator.userLanguage&&(e.userLanguage=String(navigator.userLanguage))),e}},screen:function(){this.type="json",this.get=function(){var e=[];if("object"==typeof screen)for(var t in screen)"function"!=typeof screen[t]&&(e[t]=screen[t]);return e}},navigator:function(){this.type="json",this.get=function(){var e=[];return"undefined"!=typeof navigator&&(void 0!==navigator.appName&&(e.appName=String(navigator.appName)),void 0!==navigator.appMinorVersion&&(e.appMinorVersion=String(navigator.appMinorVersion)),void 0!==navigator.vendor&&(e.vendor=String(navigator.vendor)),void 0!==navigator.oscpu&&(e.oscpu=String(navigator.oscpu)),void 0!==navigator.platform&&(e.platform=String(navigator.platform)),void 0!==navigator.securityPolicy&&(e.securityPolicy=String(navigator.securityPolicy))),e}},timezone:function(){this.type="string",this.get=function(){return String((new Date).getTimezoneOffset())}},resolution:function(){this.type="json",this.get=function(){function e(e){var t=[],a=Math.ceil(96*e);return e+=.001,t[0]=window.matchMedia("(min-resolution: "+e+"dppx')").matches?1:0,t[1]=window.matchMedia("(min-resolution: "+a+"dpi')").matches?1:0,t[2]=window.matchMedia("(-webkit-min-device-pixel-ratio: "+e+")").matches?0:1,t[3]=window.matchMedia("(min--moz-device-pixel-ratio: "+e+")").matches?0:1,t[4]=window.matchMedia("(-min-device-pixel-ratio: "+e+")").matches?0:1,t.join("")}var t={},a=null;if(void 0!==window.matchMedia)for(var r=[.5,.75,1,1.325,1.33,1.5,1.666,2,2.46,2.5,3,3.333,5,6.666],i=e(.1),n=0;n<r.length;n++)a||i==e(r[n])||(a=r[n]);a||(void 0!==window.devicePixelRatio?(a=window.devicePixelRatio,a=a%1==0?a.toFixed(0):a.toFixed(3)):a=1),t.devicePixelRatio=a;var o=parseInt(screen.width*t.devicePixelRatio),s=parseInt(screen.height*t.devicePixelRatio);return t.physicalResolution="~"+Math.min(o,s)+"x"+Math.max(o,s),t}},webglParams:function(){this.type="json";var e,t,a,r=[];try{t=document.createElement("canvas"),a=t.getContext("webgl",{stencil:!0})||t.getContext("experimental-webgl",{stencil:!0})||null,e="WebGLRenderingContext"in window&&a}catch(t){e=!1}this.get=e?function(){var e=a.getExtension("WEBGL_debug_renderer_info"),t=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),i={MAX_VERTEX_ATTRIBS:a.getParameter(a.MAX_VERTEX_ATTRIBS),MAX_VARYING_VECTORS:a.getParameter(a.MAX_VARYING_VECTORS),MAX_VERTEX_UNIFORM_VECTORS:a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),MAX_FRAGMENT_UNIFORM_VECTORS:a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),MAX_TEXTURE_IMAGE_UNITS:a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),MAX_VERTEX_TEXTURE_IMAGE_UNITS:a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),MAX_COMBINED_TEXTURE_IMAGE_UNITS:a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS),MAX_TEXTURE_SIZE:a.getParameter(a.MAX_TEXTURE_SIZE),MAX_CUBE_MAP_TEXTURE_SIZE:a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),MAX_TEXTURE_MAX_ANISOTROPY_EXT:t&&a.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT),ALIASED_POINT_SIZE_RANGE:a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[0]+"_"+a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1],ALIASED_LINE_WIDTH_RANGE:a.getParameter(a.ALIASED_LINE_WIDTH_RANGE)[0]+"_"+a.getParameter(a.ALIASED_LINE_WIDTH_RANGE)[1],MAX_VIEWPORT_DIMS:a.getParameter(a.MAX_VIEWPORT_DIMS)[0]+"_"+a.getParameter(a.MAX_VIEWPORT_DIMS)[1],MAX_RENDERBUFFER_SIZE:a.getParameter(a.MAX_RENDERBUFFER_SIZE),EXTENSIONS:a.getSupportedExtensions(),RENDERER:a.getParameter(a.RENDERER),VENDOR:a.getParameter(a.VENDOR),VERSION:a.getParameter(a.VERSION),SHADING_LANGUAGE_VERSION:a.getParameter(a.SHADING_LANGUAGE_VERSION),UNMASKED_RENDERER:e&&a.getParameter(e.UNMASKED_RENDERER_WEBGL),UNMASKED_VENDOR:e&&a.getParameter(e.UNMASKED_VENDOR_WEBGL)};for(var n in i)i[n]&&(r[n]=i[n]);return r}:function(){}},flashAttributes:function(){this.ready=!1,this.async=!0,this.type="json",n.flashSupport()?(this.init=function(){!t.swfLib&&n.flashSupport()&&(t.swfLib=o.get("swf"),_$.utils.async("swfObject__nolog",function(e){if(g.swfobject&&0==g.swfobject.getFlashPlayerVersion().major)return e.detectionReady=!0,e.clear(),null;g.swfobject&&(t.swfLib.create(),e.detectionReady=!0,e.clear()),g.swfobject||e.maxCalls!=e.actualCall+1||(e.detectionReady=!0,e.clear())},_$.config.get("_ai"),_$.config.get("_maa")))},this.get=function(){var e=new o.get("jsonParser"),a=t.swfLib.handler.getFlashAttributes();return e.parse(a)},this.isAvailable=function(){var e=!1;try{if(g.swfobject&&g.swfobject.hasFlashPlayerVersion("9")){!1!==t.swfLib.createHandler()&&"function"==typeof t.swfLib.handler.getFlashAttributes&&(e=!0)}}catch(e){r.error("Detection.flashAttributes.isAvailable",e)}return e}):(this.init=function(){},this.get=function(){return!1},this.isAvailable=function(){return!0})},automationTools:function(){this.type="array";var e=[{name:"Selenium IDE",log:!0,detect:function(){return"_Selenium_IDE_Recorder"in window}},{name:"Selenium FirefoxDriver",log:!0,detect:function(){return"__webdriver_evaluate"in document||"__fxdriver_unwrapped"in window||"fxdriver_id"in window}},{name:"Selenium ChromeDriver",log:!0,detect:function(){var e=!1;for(var t in document)/^\$cdc_/.test(t)&&(e=!0);return e}},{name:"Selendroid WebView",log:!0,detect:function(){return"$wdc_"in document}},{name:"Katalon Automation Recorder Chrome",log:!0,detect:function(){for(var e=!1,t=document.getElementsByTagName("script"),a=0;a<t.length;a++)if(/ljdobmomdgdljniojadhoplhkpialdid/.test(t[a].src)){e=!0;break}return e}},{name:"Katalon Automation Recorder Firefox",log:!0,detect:function(){for(var e=!1,t=document.getElementsByTagName("script"),a=0;a<t.length;a++)if(/1d7b99c5-0d1e-4010-b996-785b5f88ef2b/.test(t[a].src)){e=!0;break}return e}},{name:"Selenium IDE Chrome",log:!0,detect:function(){for(var e=!1,t=document.getElementsByTagName("script"),a=0;a<t.length;a++)if(/mooikfkahbdckldjjndioackbalphokd/.test(t[a].src)){e=!0;break}return e}},{name:"WebDriver",log:!0,detect:function(){return"webdriver"in navigator&&navigator.webdriver}}];this.get=function(){for(var t=[],a=0;a<e.length;a++)e[a].detect()&&(t.push(e[a].name),e[a].log&&r.error("automationTools",{name:e[a].name}));return t}}}},p=function(){function e(){for(var e in g.single)g.single[e].required&&(r.startTimer("D"+e),c[e]=_$.utils.async(e,function(e){if(e.error[e.actualCall]&&(r.error("DeviceData._singleDetect",{call:e.actualCall.toString(),actualDetection:e.userData},e.lastComputedError),e.detectionReady=!0),e.actualDetection||(e.actualDetection=s.get(e.userData)),!e.initiated&&e.actualDetection.init&&(e.actualDetection.init(),e.initiated=!0),!e.actualDetection.isAvailable){e.detectionReady=!0,e.clear();var t=e.actualDetection.get();return t}if(e.actualDetection.isAvailable()){e.detectionReady=!0,e.clear();var t=e.actualDetection.get();return t}null!=e.userData&&e.maxCalls==e.actualCall+1&&(e.detectionReady=!0,e.clear(),"getBase64ImageCanvas"!=e.userData?r.warning("Detection fail "+e.userData,'{"time":'+r.getTime("D"+e.userData)+',"call":'+e.actualCall+"}"):r.error("Detection fail "+e.userData,'{"time":'+r.getTime("D"+e.userData)+',"call":'+e.actualCall+"}"))},_$.config.get("_ai"),_$.config.get("_maa")))}function t(){for(var e in g.multi)g.multi[e][0]?(r.startTimer("D"+e),l[e]=_$.utils.async([e,0],function(t){if(t.stopOnError=!1,t.error[t.actualCall]&&r.error("DeviceData._multiDetect",{call:t.actualCall.toString(),actualDetection:t.actualDetection},t.lastComputedError),t.lastCall&&g.multi[t.userData[0]][t.userData[1]+1]?(t.clear(),l[t.userData[0]]=_$.utils.async([t.userData[0],t.userData[1]+1],arguments.callee,_$.config.get("_ai"),_$.config.get("_maa"))):t.lastCall&&!g.multi[t.userData[0]][t.userData[1]+1]&&(t.detectionReady=!0),t.actualDetection||(t.actualDetection=s.get(g.multi[t.userData[0]][t.userData[1]].type)),!t.initiated&&t.actualDetection.init&&(t.actualDetection.init(),t.initiated=!0),t.actualDetection.isAvailable)if(t.actualDetection.isAvailable()){var a=t.actualDetection.get();if("fontsFlash"!=g.multi[t.userData[0]][t.userData[1]].type||!1!==a)return t.detectionReady=!0,t.clear(),a;t.clear(),l[t.userData[0]]=_$.utils.async([t.userData[0],t.userData[1]+1],arguments.callee,_$.config.get("_ai"),_$.config.get("_maa"))}else null!=t.userData&&t.maxCalls==t.actualCall+1&&(t.detectionReady=!0,t.clear(),r.warning("Detection fail "+t.userData[0]+t.userData[1],'{"time":'+r.getTime("D"+t.userData[0])+',"call":'+t.actualCall+"}"));else try{t.detectionReady=!0,t.clear();var a=t.actualDetection.get();return a}catch(a){r.error("DeviceData._multiDetect",{call:t.actualCall.toString(),actualDetection:l[e][t.userData[1]]},t.lastComputedError,a),t.actualDetection}},_$.config.get("_ai"),_$.config.get("_maa"))):l[e]=_$.utils.async(e,function(e){e.detectionReady=!0},0,1)}function a(){for(var e in g.custom)g.custom[e].required&&(r.startTimer("D"+e),u[e]=_$.utils.async(e,function(e){if(e.error[e.actualCall]&&(r.error("DeviceData._customDetect",{call:e.actualCall.toString(),actualDetection:e.userData},e.lastComputedError),e.detectionReady=!0),e.actualDetection||(e.actualDetection=s.get(e.userData)),!e.initiated&&e.actualDetection.init&&(e.actualDetection.init(),e.initiated=!0),!e.actualDetection.isAvailable){e.detectionReady=!0,e.clear();var t=e.actualDetection.get();return t}if(e.actualDetection.isAvailable()){e.detectionReady=!0,e.clear();var t=e.actualDetection.get();return t}null!=e.userData&&e.maxCalls==e.actualCall+1&&(e.detectionReady=!0,e.clear(),r.warning("Detection fail "+e.userData,'{"time":'+r.getTime("D"+e.userData)+',"call":'+e.actualCall+"}"))},_$.config.get("_ai"),_$.config.get("_maa")))}function i(){for(var e in g.special)g.special[e].required&&(r.startTimer("D"+e),f[e]=_$.utils.async(e,function(e){if(e.error[e.actualCall]&&(r.error("DeviceData._specialDetect",{call:e.actualCall.toString(),actualDetection:e.userData},e.lastComputedError),e.detectionReady=!0),e.actualDetection||(e.actualDetection=s.get(e.userData)),!e.initiated&&e.actualDetection.init&&(e.actualDetection.init(),e.initiated=!0),!e.actualDetection.isAvailable){e.detectionReady=!0,e.clear();var t=e.actualDetection.get();return t}if(e.actualDetection.isAvailable()){e.detectionReady=!0,e.clear();var t=e.actualDetection.get();return t}null!=e.userData&&e.maxCalls==e.actualCall+1&&(e.detectionReady=!0,e.clear(),r.warning("Detection fail "+e.userData,'{"time":'+r.getTime("D"+e.userData)+',"call":'+e.actualCall+"}"))},_$.config.get("_ai"),_$.config.get("_maa")))}function n(){return _$.utils.async("checkWhenReady__nolog",function(e){c.ready=!1,l.ready=!1,u.ready=!1,f.ready=!1;for(var t in g.single)if(g.single[t].required&&!c[t].state.detectionReady)return null;if(g.custom&&g.custom[0])for(var t in g.custom)if(g.custom[t].required&&!u[t].state.detectionReady)return null;for(var t in g.multi)if(!l[t].state.detectionReady)return null;var a=0;for(var r in g.special)a++;if(g.special&&a>0)for(var t in g.special)if(g.special[t].required&&!f[t].state.detectionReady)return null;c.ready=!0,l.ready=!0,u.ready=!0,f.ready=!0,e.clear()},100)}function o(n){return r.debug("+Detections"),e(),t(),g.custom&&a(),g.special&&i(),_$.utils.async("verify__nolog",function(e){if(c.ready&&u.ready&&l.ready&&f.ready){var t=[];t.special=[];for(var a in c)c[a].state&&(t[a]={},t[a].value=c[a].state.lastComputedData,t[a].timeout=!1,t[a].type=c[a].state.actualDetection.type);for(var i in u)u[i].state&&(t[i]={},t[i].value=u[i].state.lastComputedData,t[i].timeout=!1,t[i].type=u[i].state.actualDetection.type);for(var o in l)l[o].state&&l[o].state.initiated&&(t[o]={},t[o].value=l[o].state.lastComputedData,t[o].timeout=!1,t[o].type=l[o].state.actualDetection.type);for(var s in f)f[s].state&&(t.special[s]={},t.special[s].value=f[s].state.lastComputedData,t.special[s].timeout=!1,t.special[s].type=f[s].state.actualDetection.type);return e.clear(),r.debug("-Detections"),n(t)}},_$.config.get("_ai"))}var s=new d,c={ready:!1},l={ready:!1},u={ready:!1},f={ready:!1},g={single:{sessionStorage:{required:!0},geolocation:{required:!0},globalStorage:{required:!0},localStorage:{required:!0},openDatabase:{required:!0},activeX:{required:!0},geckoActiveX:{required:!0},console:{required:!0},iEuserData:{required:!0},ajax:{required:!0},ct:{required:!0},dc:{required:!0},svg:{required:!0},plugins:{required:!0},iEComponents:{required:!0},mimeTypes:{required:!0},language:{required:!0},screen:{required:!0},navigator:{required:!0},timezone:{required:!0},getBase64WebGL:{required:!0},getBase64Canvas:{required:!0},resolution:{required:!0},webglParams:{required:!0},flashAttributes:{required:!0},automationTools:{required:!0}},custom:{},special:{socialNetworks:{required:!0}},multi:{fonts:[{type:"fontsFlash",required:!0},{type:"fontsJs",required:!0}]}},p=function(e){e&&0!=Object.keys(e).length||(e={},function t(a){for(var r in a)"required"in a[r]?"type"in a[r]?e[a[r].type]=a[r].required:e[r]=a[r].required:t(a[r])}(g));var t;for(var a in g.multi){var r=0;t={};for(var i in g.multi[a])for(var n in e)g.multi[a][i].type==n&&e[n]&&(t[r]=g.multi[a][i],r++);g.multi[a]=t}for(var n in e){var o=!1;for(var s in t)t[s].type==n&&(o=!0)
;for(var a in g.single)a==n&&(g.single[a].required=e[n],o=!0);if(!o)for(var a in g.special)a==n&&(g.special[a].required=e[n],o=!0);if(!o)for(var a in g.custom)a==n&&(g.custom[a].required=e[n],o=!0);o||(null==g.custom&&(g.custom={}),g.custom[n]={required:e[n]})}};return p.prototype={get:function(e){return r.debug("DeviceData.GET","Device data detection started"),n(),o(e)},getSingleDetectState:function(){return c},getMultiDetectState:function(){return l},getCustomDetectState:function(){return u}},p}(),h=function(){var e=_$.config.get("_ak"),a={scope:function(){var e=!1;if("default"==_$.config.get("_sc")||"persist"==_$.config.get("_sc"))try{e=Boolean(f)}catch(e){r.debug("Tricks","scope support",e)}return e},cookie:function(){var e=!1;try{e="undefined"!=document.cookie}catch(e){r.debug("Tricks","cookie support",e)}return e},window:function(){var e=!1;try{e=void 0!==window.name}catch(e){r.debug("Tricks","window support",e)}return e},session:function(){var e=!1;try{e=!!window.sessionStorage}catch(e){/SecurityError/i.test(e)?r.warning("Tricks","session SecurityError",e):r.debug("Tricks","session support",e)}return e},global:function(){var e=!1;try{e=!!window.globalStorage}catch(e){r.debug("Tricks","global support",e)}return e},local:function(){var e=!1;try{e="localStorage"in window}catch(e){/SecurityError/i.test(e)?r.debug("Tricks","localStorage SecurityError",e):r.debug("Tricks","localStorage support",e)}return e},user:function(){var e=!1;try{e=void 0!==n.getHtmlWrapper().style.behavior}catch(e){r.debug("Tricks","user support",e)}return e},server:function(){var e=!1;try{e=!t.browser.isIE}catch(e){r.debug("Tricks","server support",e)}return e},etag:function(){var e=!1;try{e=!t.browser.isIE}catch(e){r.debug("Tricks","etag support",e)}return e},database:function(){var e=!1;try{e=!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)&&"openDatabase"in window}catch(e){r.debug("Tricks","database support",e)}return e},indexeddb:function(){var e=!1;try{e=!!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)}catch(e){r.debug("Tricks","indexeddb support",e)}return e},swf:function(){var e=!1;try{e=n.flashSupport()}catch(e){r.debug("Tricks","swf support",e)}return e},sl:function(){var e=!1;try{e=t.browser.isIE?Boolean(new ActiveXObject("AgControl.AgControl")):!t.browser.isFirefox&&!t.browser.isMozilla&&(!(t.browser.isChrome&&parseInt(t.browser.version,10)>=42)&&(!(t.browser.isOpera&&parseInt(t.browser.version,10)>=25)&&Boolean(navigator.plugins["Silverlight Plug-In"])))}catch(e){r.debug("Tricks","silverLight support",e)}return e},base64:function(){var e=!1;return t.browser.isIE&&parseInt(t.browser.version,10)>=11||!t.browser.isIE?e=!0:r.debug("Tricks","base64 support","old IE"),e},appcache:function(){var e=!1;return"applicationCache"in window&&"XMLHttpRequest"in window&&"postMessage"in window?e=!0:r.debug("Tricks","appcache support","isn't html5 browser"),e},filesystem:function(){var e=!1;return"webkitRequestFileSystem"in window||"requestFileSystem"in window?e=!0:r.debug("Tricks","filesystem support","no filesystem support"),e}};this.config={scope:{isDefault:!0,async:!1,className:"ScopeData",supported:a.scope,isRequest:!1},cookie:{isDefault:!0,async:!1,className:"CookieData",supported:a.cookie,isRequest:!1},window:{isDefault:!0,async:!1,className:"WindowData",supported:a.window,isRequest:!1},session:{isDefault:!0,async:!1,className:"SessionData",supported:a.session,isRequest:!1},global:{isDefault:!0,async:!1,className:"GlobalData",supported:a.global,isRequest:!1},local:{isDefault:!0,async:!1,className:"LocalData",supported:a.local,isRequest:!1},user:{isDefault:!0,async:!1,className:"UserData",supported:a.user,isRequest:!1},server:{isDefault:!0,async:!0,className:"ServerData",supported:a.server,isRequest:!0},etag:{isDefault:!0,async:!0,className:"EtagData",supported:a.etag,isRequest:!0},database:{isDefault:!0,async:!0,className:"DatabaseData",supported:a.database,isRequest:!1},indexeddb:{isDefault:!0,async:!0,className:"IndexedDB",supported:a.indexeddb,isRequest:!1},swf:{isDefault:!0,async:!0,className:"SwfData",supported:a.swf,isRequest:!0},sl:{isDefault:!0,async:!0,className:"SilverLightData",supported:a.sl,isRequest:!0}},this.ScopeData=function(){this.set=function(e){try{t.parent.uid=e,r.debug("set.ScopeData","Setting value ("+e+")")}catch(e){r.error("set.ScopeData",e)}},this.get=function(){var e;try{e="parent"in t&&null!=t.parent?t.parent.uid:null,r.debug("get.ScopeData","Value: "+e)}catch(e){r.error("get.ScopeData",e)}return this.cacheValue(this,e)}},this.CookieData=function(){this.set=function(t){try{document.cookie=e+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/",document.cookie=e+"="+t+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/",r.debug("set.CookieData","Setting value ("+t+")")}catch(e){r.error("set.CookieData",e)}},this.get=function(){var t;try{t=n.getCookie(document.cookie,e),r.debug("get.CookieData","Value: "+t)}catch(e){r.error("get.CookieData",e)}return this.cacheValue(this,t)}},this.WindowData=function(){this.set=function(t){try{window.name=n.setUrlParameter(window.name,e,t),r.debug("set.WindowData","Setting value ("+t+")")}catch(e){r.error("set.WindowData",e)}},this.get=function(){var t;try{t=n.getUrlParameter(window.name,e),r.debug("get.WindowData","Value: "+t)}catch(e){r.error("get.WindowData",e)}return this.cacheValue(this,t)}},this.SessionData=function(){this.set=function(t){try{sessionStorage.setItem(e,t),r.debug("set.SessionData","Setting value ("+t+")")}catch(e){/QuotaExceededError|QUOTA_EXCEEDED_ERR/i.test(e.toString())?r.warning("set.SessionData",e):r.error("set.SessionData",e)}},this.get=function(){var t;try{t=sessionStorage.getItem(e),r.debug("get.SessionData","Value: "+t)}catch(e){r.error("get.SessionData",e)}return this.cacheValue(this,t)}},this.GlobalData=function(){var t;this.init=function(){try{t=window.document.location.host,0==t.indexOf("www.")&&(t=t.replace("www.",""))}catch(e){r.error("init.GlobalData",e)}},this.set=function(a){try{window.globalStorage[t][e]=a,r.debug("set.GlobalData","Setting value ("+a+")")}catch(e){r.error("set.GlobalData",e)}},this.get=function(){var a;try{a=n.trim(window.globalStorage[t][e]),a=a||!1,r.debug("get.GlobalData","Value: "+a)}catch(e){r.error("get.GlobalData",e)}return this.cacheValue(this,a)}},this.LocalData=function(){this.set=function(t){try{window.localStorage.setItem(e,t),r.debug("set.LocalData","Setting value ("+t+")")}catch(e){/QuotaExceededError/i.test(e.toString())?r.warning("set.LocalData","QuotaExceededError",e):r.warning("set.LocalData",e)}},this.get=function(){var t;try{t=window.localStorage.getItem(e),r.debug("get.LocalData","Value: "+t)}catch(e){r.warning("get.LocalData",e)}return this.cacheValue(this,t)}},this.UserData=function(){this.init=function(){n.createHtmlElement("div",{html:"dnauol",id:"dnauol-userdata"}).style.behavior="url(#default#userData)"},this.set=function(t){try{var a=document.getElementById("dnauol-userdata");a.setAttribute(e,t),a.save(e),r.debug("set.UserData","Setting value ("+t+")")}catch(e){r.error("set.UserData",e)}},this.get=function(){var t;try{var a=document.getElementById("dnauol-userdata");a.load(e),t=a.getAttribute(e),r.debug("get.UserData","Value: "+t)}catch(e){t=!1,r.error("get.UserData",e)}return this.cacheValue(this,t)}},this.ServerData=function(){var e=!1,t=!1;this.init=function(){try{l.Persistence.serverRequest({callback:function(a){t=a,e=!0},error:function(a){t=!1,e=!0,r.debug("post.ServerData",a)}})}catch(e){r.error("init.ServerData",e)}},this.set=function(e){try{r.debug("set.ServerData","Setting value ("+e+")")}catch(e){r.error("set.ServerData",e)}},this.get=function(){var e=t;return r.debug("get.ServerData","Value: "+e),this.cacheValue(this,e)},this.isReady=function(){return e}},this.EtagData=function(){var e=!1,t=!1;this.init=function(){try{l.Persistence.etagRequest({callback:function(a){t=a,e=!0},error:function(a){t=!1,e=!0,r.debug("post.EtagData",a)}})}catch(e){r.error("init.EtagData",e)}},this.set=function(e){try{l.Persistence.etagRequest({etag:e}),r.debug("set.EtagData","Setting value ("+e+")")}catch(e){r.error("set.EtagData",e)}},this.get=function(){var e=t;return r.debug("get.EtagData","Value: "+e),this.cacheValue(this,e)},this.isReady=function(){return e}},this.DatabaseData=function(){function t(){var t;try{t=window.openDatabase(e,"",e,1024)}catch(a){try{handler=new Function('(function(){try{return [window.openDatabase("'+e+'","","'+e+'",1024)];}catch(e){return [false,e];}})();')(),null==handle?(t=!1,r.warning("DatabaseData.init_fallback fail","nothing return")):handler[0]?(t=handler[0],r.warning("DatabaseData.init_openDatabase","fallback ok")):(t=!1,r.warning("DatabaseData.init_fallback fail",handler[1]))}catch(e){t=!1,r.warning("DatabaseData.init_fallback fail",e)}}return t}var a=!1,i={handler:null,tableName:"dnauol",value:"",queries:[]};i.queries.create=function(e){var t=[];t[t.length]="CREATE TABLE IF NOT EXISTS "+i.tableName+" (",t[t.length]="id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, ",t[t.length]="name TEXT NOT NULL, value TEXT NOT NULL, UNIQUE (name) )",t=t.join("");var a=function(e,t){r.warning("DatabaseData.create_success","")},n=function(e,t){r.error("DatabaseData.create_error",JSON.stringify(t))};e.executeSql(t,[],a,n)},i.queries.update=function(t,a){var n="INSERT OR REPLACE INTO "+i.tableName+" (name, value) VALUES(?, ?)",o=[e,a],s=function(e,t){r.debug("DatabaseData.set","Setting value ("+a+")"),r.warning("DatabaseData.update_success","")},c=function(e,t){r.error("DatabaseData.update_error",JSON.stringify(t))};t.executeSql(n,o,s,c)},i.queries.select=function(t){var n="SELECT value FROM "+i.tableName+" WHERE name=?",o=[e],s=function(e,t){t.rows.length>=1&&(i.value=t.rows.item(0).value),a=!0},c=function(e,t){a=!0,r.warning("DatabaseData.select_error",JSON.stringify(t))};t.executeSql(n,o,s,c)};var n=function(){try{i.handler.transaction(function(e){i.queries.select(e)})}catch(e){r.error("init.DatabaseData_transaction",e)}};this.init=function(){setTimeout(function(){i.handler=t()},1),_$.utils.async("database.init__nolog",function(e){i.handler&&(e.clear(),n()),e.lastCall&&e.clear()},_$.config.get("_ai"),_$.config.get("_maa"))},this.set=function(e){if(i.handler||(i.handler=t()),i.handler)try{i.handler.transaction(function(t){i.queries.create(t),i.queries.update(t,e)})}catch(e){r.error("set.DatabaseData",e)}},this.get=function(){var e=i.value;return this.cacheValue(this,e)},this.isReady=function(){return a}},this.IndexedDB=function(){var e=!1,t=!1,a=function(){var e,a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;try{e=a.open("DNAUOL",2)}catch(e){r.error("indexedDB","db.open(...)",e),t=!0}return e},i=function(e,t){var a=null;try{e.objectStoreNames.contains("dnauol")&&(a=e.transaction(["dnauol"],t).objectStore("dnauol"))}catch(e){r.error("indexedDB","objectStore transaction",e)}return a},n=function(e,t){var a=e.openCursor();a.onsuccess=function(e){var a=e.target.result;if(!a)return void t(null);t(a.value.data)},a.onerror=function(e){r.error("get.indexedDB","cursor error event"),t(null)}},o=function(e,t){var a=i(e.target.result,IDBTransaction.READ_ONLY);a?n(a,t):(r.warning("get.indexedDB","objectStore not found"),t(null))},s=function(e,a){var n=i(e.target.result,"readwrite");n?(n.put({key:"_id",data:a}),r.debug("set.indexedDB","Setting value ("+a+")")):r.error("set.indexedDB","objectStore not found"),t=!0};this.init=function(){var i=a();i&&(i.onupgradeneeded=function(e){try{e.target.result.createObjectStore("dnauol",{keyPath:"key"}).createIndex("data","data",{unique:!0})}catch(e){r.error("get.indexedDB","upgradeneeded event createObjectStore",e)}},i.onsuccess=function(a){o(a,function(a){a&&(e=a),t=!0,r.debug("get.indexedDB","Value: "+e)})},i.onerror=function(e){t=!0,r.error("get.indexedDB","indexedDB init event error",e)})},this.get=function(){return this.cacheValue(this,e)},this.set=function(e){var i=a();i&&(i.onupgradeneeded=function(e){try{e.target.result.createObjectStore("dnauol",{keyPath:"key"}).createIndex("data","data",{unique:!0})}catch(e){r.error("set.indexedDB","upgradeneeded event createObjectStore",e),t=!0}},i.onsuccess=function(t){s(t,e)},i.onerror=function(e){t=!0,r.error("set.indexedDB","indexedDB init event error",e)})},this.isReady=function(){return t}},this.SwfData=function(){var e=!1,a=!1;this.init=function(){t.swfLib||(t.swfLib=o.get("swf"),_$.utils.async("swfObject__nolog",function(e){g.swfobject&&g.swfobject.hasFlashPlayerVersion("9")&&(t.swfLib.create(),e.detectionReady=!0,e.clear()),e.maxCalls==e.actualCall+1&&(e.detectionReady=!0,e.clear())},_$.config.get("_ai"),_$.config.get("_maa")))},this.set=function(e){try{t.swfLib.handler&&"function"==typeof t.swfLib.handler.setDNA?(t.swfLib.handler.setDNA(e),r.debug("set.SwfData","Setting value ("+e+")")):r.warning("set.SwfData","swfHandler.setDNA is not a function")}catch(e){r.error("set.SwfData",e)}},this.get=function(){return r.debug("get.SwfData","Value: "+e),this.cacheValue(this,e)},this.isReady=function(){try{if(g.swfobject)if(g.swfobject.hasFlashPlayerVersion("9")){if(t.swfLib.createHandler()&&"function"==typeof t.swfLib.handler.getDNA){a=!0;var i=t.swfLib.handler.getDNA();e=!!Boolean(i)&&i}}else a=!0}catch(e){r.error("isReady.SwfData",e)}return a}},this.SilverLightData=function(){var e,a=!1,i=function(e){var a=t.appUrl+"/resource/dna.xap",r=void 0!==e?'<param name="initParams" value="'+t.browser.alias+"="+e+'" />':"",i=void 0!==e?"dnauol-silverlight-set":"dnauol-silverlight-get",o="string"!=typeof e?'<param name="onLoad"  value="onDnaUOLSlLoad" />':"",s="string"!=typeof e?'<param name="onError" value="onDnaUOLSlError" />':"",c=[];c.push('<div style="width:1px;height:1px;overflow:hidden;position:absolute;top:-9999px;left:-9999px;">'),c.push("<object id="+i+' width="100%" height="100%" type="application/x-silverlight-2" data="data:application/x-silverlight-2," >'),c.push(r),c.push('<param name="source" value="'+a+'" />'),c.push('<param name="enableHtmlAccess" value="true" />'),c.push(o+s),c.push('<param name="background" value="Transparent" />'),c.push('<param name="windowless" value="true" />'),c.push('<param name="minRuntimeVersion" value="4.0.50826.0" />'),c.push('<param name="autoUpgrade" value="false" />'),c.push("</object></div>"),c=c.join(""),n.removeHtmlElement(i+"-wrapper"),n.createHtmlElement("div",{id:i+"-wrapper"}).innerHTML=c};this.init=function(){try{window.onDnaUOLSlLoad=function(i,n){var o=document.getElementById("dnauol-silverlight-get");if(o)try{t.controlSilverLight=o.Content.App.getIsolatedStorage(t.browser.alias),e=t.controlSilverLight}catch(e){r.debug("SilverLightData.onDnaUOLSlLoad",e),t.controlSilverLight=!1}else r.debug("SilverLightData.onDnaUOLSlLoad","Cant use silverlight control handler");a=!0},window.onDnaUOLSlError=function(e,r){t.controlSilverLight=!1,a=!0},window.dbg=function(e){},i()}catch(e){r.error("init.SilverLightData",e)}},this.get=function(){return this.cacheValue(this,e)},this.set=function(e){try{i(e),r.debug("set.SilverLightData","Setting value ("+e+")")}catch(e){r.error("set.SilverLightData",e)}},this.isReady=function(){return a}},this.Base64Data=function(){var e=!1,a=null,i=function(e){s.get({url:t.appUrl+_$.config.get("_bsp"),cache:!0,mimeType:"text/css",dataType:"text",headers:e?{"X-Request-Uid":e}:{},callback:function(t){if(e)r.debug("set.Base64Data","Setting value ("+e+")");else{var a;try{a=t.match(/url\(([\S\s]+)?\)/)[1].replace(/\n/g,"").replace(/\r/g,"")}catch(e){return void r.debug("Base64Data.onLoad","Couldn't do response parse")}try{n(a)}catch(e){r.warning("Base64Data.base64ToText",e)}}},error:function(e){r.warning("Base64Data.base64ToText","request error "+e)}})},n=function(t){var r="",i=new Image;i.style.visibility="hidden",i.style.position="absolute",i.src=t,i.onerror=function(e){throw"base64 image onerror"},i.onload=function(){try{r="";var t=document.createElement("canvas");t.width=i.width,t.height=1;var n=t.getContext("2d");n.drawImage(i,0,0);for(var o=n.getImageData(0,0,200,1),s=o.data,c=0,l=s.length;c<l&&0!=s[c]&&(r+=String.fromCharCode(s[c]),0!=s[c+1])&&(r+=String.fromCharCode(s[c+1]),0!=s[c+2]);c+=4)r+=String.fromCharCode(s[c+2]);""!=r&&(a=r),e=!0}catch(e){throw"error on pixel reading "+e}}};this.init=function(){i()},this.get=function(){return this.cacheValue(this,a)},this.set=function(e){try{i(e)}catch(e){r.error("set.Base64Data",e)}},this.isReady=function(){return e}},this.AppcacheData=function(){var e=null,a=!1,i=t.appUrl+_$.config.get("_acsp"),n="origin"in location?location.origin:location.protocol+"//"+location.hostname,o=function(t){/^https*:\/\/[\w\.]+?\.uol\.com\.br$/i.test(t.origin)&&/^get:.*$/i.test(t.data)&&(/^get:\w+\|\w+|\w+$/.test(t.data)&&"get:cached"!=t.data&&"get:null"!=t.data&&(e=t.data.split(":")[1]),a=!0)},s=function(e){var t=document.getElementById(e);t&&document.body.removeChild(t)};this.init=function(){var e=document.createElement("iframe");e.id="dna_iframeGet",e.style.display="none",e.src=i+"#get_"+encodeURIComponent(n),document.body.appendChild(e),window.addEventListener("message",o,!1)},this.get=function(){s("dna_iframeGet"),window.removeEventListener("message",o);var t=e;return r.debug("appcache.get","Value: "+t),this.cacheValue(this,t)},this.set=function(e){s("dna_iframeGet");var t=document.createElement("iframe");t.id="dna_iframeSet",t.style.display="none",t.src=i+"#set_"+encodeURIComponent(n)+"_"+e,document.body.appendChild(t),setTimeout(function(){s("dna_iframeSet")},2e3)},this.isReady=function(){return a}},this.FilesystemData=function(){function e(e){/^http[s]*:\/\/[\w\.]+\.uol\.com\.br\//i.test(e.origin)&&/^get:[\w\|]+$/.test(e.data)&&(/get:\w+\|\w+\|\w+/.test(e.data)&&"get:null"!=e.data&&(a=e.data.split(":")[1]),i=!0)}var a=null,i=!1,n=t.appUrl+_$.config.get("_fssp"),o="origin"in location?location.origin:location.protocol+"//"+location.hostname,s=function(e,t){var a=document.getElementById(e);a&&document.body.removeChild(a),t&&window.removeEventListener("message",t,!1)};this.init=function(){var t=document.createElement("iframe");t.id="dna_iframeFSGet",t.style.display="none",t.src=n+"#get_"+encodeURIComponent(o),document.body.appendChild(t),window.addEventListener("message",e,!1)},this.get=function(){var e=a;return r.debug("get.filesystem","Value: "+e),this.cacheValue(this,e)},this.set=function(t){s("dna_iframeFSGet",e);var a=document.createElement("iframe");a.id="dna_iframeFSSet",a.style.display="none",a.onload=function(){setTimeout(function(){s("dna_iframeFSSet")},2e3)},a.src=n+"#set_"+t,document.body.appendChild(a)},this.isReady=function(){return i&&s("dna_iframeFSGet",e),i}}},v=new function(){var a=new h,i=new function(){this.asyncInterval=_$.config.get("_ai"),this.maxAsyncAttempts=_$.config.get("_maa"),this.createTrick=function(e){var t,i=a.config[e];return i.supported()?(t=new a[i.className],t.ready=!1,t.cacheValue=function(e,t){var a=!1;if("string"==typeof t){var r=n.trim(t);/^[a-z0-9]{32}\|[a-z0-9]*\|(true|false)$/i.test(r)&&(t=r,a=new c,a.setAttributes(t))}e.cache=a}):(t={},t.unsupported=!0,t.ready=!0,r.debug("createTrick",{trick:e+" [UNSUPPORTED]"})),t.className=i.className,t.isRequest=i.isRequest,t.cache=!1,t.timeout=!1,t},this.getTrickValue=function(e){return e.cache},this.factory=function(e){var t=[],e="object"==typeof e?e:{};r.debug("+STEP_1"),r.debug("+Persistence.TricksHelper");for(var i in a.config)try{this.trickFilter(e[i],a.config[i].isDefault)?t[i]=this.createTrick(i):r.debug("factory",{trick:i+" [UNUSED]"})}catch(e){r.error("factory",{trick:i},e)}return t},this.trickFilter=function(e,t){var a=!1;return"boolean"==typeof e?a=e:void 0===e&&t?a=!0:void 0!==e||t||(a=!1),a},this.checkAsyncTrick=function(e,t,a){return _$.utils.async("checkAsyncTrick__nolog",function(a){var i=e.tricks[t];if(i.asyncCheck=i.asyncCheck+1||0,i.isReady())return i.get(),i.ready=!0,a.clear(),void r.debug("checkAsyncTrick",{trick:t,attempt:i.asyncCheck});a.lastCall&&(i.timeout=!0,i.ready=!0,r.debug("checkAsyncTrick",{trick:t+" [TIMEOUT]"}),a.clear())},_$.config.get("_ai"),_$.config.get("_maa"))},this.isAllTricksReady=function(e,t){return _$.utils.async("isAllTricksReady__nolog",function(a){var r=!0;for(var i in e.tricks)e.tricks[i].ready||(r=!1);r&&(a.clear(),t())},_$.config.get("_ai"))},this.getSummary=function(e){var a={};try{for(var r in e.tricks){var i=this.getTrickValue(e.tricks[r]);"object"==typeof i?a[r]=i.getUid():e.tricks[r].unsupported?a[r]=!1:a[r]=null}}catch(e){t.error("getSummary",e)}return a},this.persistData=function(e,t,a,r){i.fillTricks(e,t,a),r(i.getSummary(e))},this.fillTricks=function(e,t,a){var i=t.getString();if(i){r.debug("fillTricks",{value:i});for(var n in e.tricks)if(!e.tricks[n].unsupported){var o=!a||!e.tricks[n].isRequest;o&&e.tricks[n].set(i)}}else r.debug("fillTricks","Value not set")}},o=function(n,o){var s=[],c=!1,l=!1,u=function(){if(!c){var e=!("unsupported"in n.tricks.scope&&n.tricks.scope.unsupported)&&n.tricks.scope.get();e&&(c=e,r.debug("PersistedData.tryAsyncTricks",{index:"scope [FIRST]"}))}l?r.debug("-Persistence.TricksHelper"):(l=!0,"object"==typeof c?r.debug("PersistedData.getPersistedData",{value:c.getLogString()}):r.debug("PersistedData.getPersistedData","No persistent data found"),r.debug("-Persistence.TricksHelper"),o(c))},d=function(){try{for(var e in n.tricks){if(n.tricks[e].get)if(a.config[e].async)s.push(e);else{"function"!=typeof n.tricks[e].init||n.tricks[e].ready||n.tricks[e].init(),n.tricks[e].ready=!0,n.tricks[e].get();var o=i.getTrickValue(n.tricks[e]);o&&(c=o,"parent"in t&&null!=t.parent&&(t.parent.uid=o.getString()),r.debug("PersistedData.trySyncTricks",{index:e+" [FIRST]"}))}if(c)break}}catch(e){r.error("PersistedData.trySyncTricks",e)}return c},f=function(){return _$.utils.async("tryAsyncTricks__nolog",function(a){var o,l,d=!0;a.error[a.actualCall]&&(r.error("PersistedData.tryAsyncTricks",e),u());for(var f in s)o=s[f],n.tricks[o].ready||n.tricks[o].timeout?(l=i.getTrickValue(n.tricks[o]))&&(c=l,"parent"in t&&null!=t.parent&&(t.parent.uid=l.getString()),r.debug("PersistedData.tryAsyncTricks",{index:o+" [FIRST]"})):d=!1;(c||d)&&(a.clear(),u())},_$.config.get("_ai"))},g=function(){try{r.debug("prepareAsyncTricks","started");for(var e in s)!function(e){setTimeout(function(){var t=s[e];n.tricks[t].get&&(n.tricks[t].ready=!1,"function"==typeof n.tricks[t].init&&n.tricks[t].init(),i.checkAsyncTrick(n,t))},0)}(e);f()}catch(e){r.error("startAsyncTricks",e),u()}};this.get=function(){d()?u():g()}};this.handler=function(e){var t={};return t.tricks=i.factory(e),t.getPersistedData=function(e){new o(t,e).get()},t.persistData=function(e,a,r){i.persistData(t,e,a,r)},t.checkSyncPersistedData=function(e){var t=i.createTrick(e);return t.get(),t.cache?t.cache:null},t.checkAsyncPersistedData=function(e,t){var a=i.createTrick(e);return a.init(),_$.utils.async("checkAsyncPersistedData__nolog",function(e){ready&&(e.clear(),t(a.cache?a.cache:null))},_$.config.get("_ai"))},t}};this.Main=new function(){function e(e,a){function i(i){function c(e){b?(r.debug("doUpdate",{UID:i.getUid(),lastUpdate:i.getLastUpdate().toString()}),r.debug("+doUpdate"),l.DeviceId.update({sess:n,data:i,detections:e,callback:u}),r.debug("-doUpdate")):(r.debug("doUpdate",{UID:"Creating..."}),r.debug("+doUpdate"),l.DeviceId.create({sess:n,detections:e,callback:u}),r.debug("-doUpdate"))}function u(t){t?(e.register("update",t,"Get value to persist from service callback"),f(t,!1,"Data persisted")):(e.register("doNotUpdate","Not modified"),f(i,!0,"Data re-persisted"))}function f(t,a,r){t?(t.setDetectionFlag(m),s.persistData(t,a,function(a){e.register("summary",a,r),g(t)})):g(!1)}function g(t){e.finalize(a.callback,t)}var h=!(!i||/^[0-9a-fA-F]{32}$/.test(i.getUid())),v=!!Boolean(a.forceUpdate)||h,m=!("detectDeviceData"in a)||a.detectDeviceData,y=!0,b=!1,C=!1,S=!1;"object"==typeof i&&i&&(y=e.hasExpired(i.getLastUpdate(),a.updateFrequency),b=Boolean(i.getUid()),C="null"!=i.getLastUpdate()&&!isNaN(i.getLastUpdate().valueOf()),S=Boolean(i.getDetectionFlag()));var w=Boolean(!b||m&&!C||v||y||m&&!S);if(r.debug("updateNeeded",{noHasUid:!b,detectAndNoHasLastUpdate:m&&!C,forceUpdate:v,expired:y,detectAndNoHasDetectionFlag:m&&!S,updateNeeded:w}),m&&w){var D="object"==typeof a.addDetections&&a.addDetections,A=new p(D);A.get(function(n){if(e.register("detections",n,"Device data detection done"),t.browser.isIE&&t.browser.nVersion<=9)c(n);else{var o=_$.config.get("_ics");if(r.debug("Sync",o),o){var s=!!b&&i.getUid();_(s,a.sess,n)}else c(n)}}),A=null}else w?c(!1):function(t){var a=i.getUid();r.debug("doNotUpdate",{UID:a,lastUpdate:i.getLastUpdate().toString()}),r.debug("+doNotUpdate"),t&&l.simpleRequest({uid:a,sess:n}),r.debug("-doNotUpdate"),e.register("doNotUpdate",i,"Nothing to do"),f(i,!0,"Data re-persisted")}(m);var _=function(e,t,a){!1===e?l.simpleSync({callback:function(e){E(e[0],e[1],a)},error:function(e){E(!1,!1,a),r.error("SimpleSync",e)}}):l.sync({uid:e,sess:t,callback:function(e){var t=!1;try{t=new o.get("jsonParser").parse(e[0]),"specs"in t?E(t.specs,e[1],a):(r.warning("Sync","empty response"),E(!1,e[1],a))}catch(t){/^Fal.*rp$/.test(e[0])?r.warning("Sync parse",t,e):r.error("Sync parse",t,e),E(!1,e[1],a)}},error:function(e){r.error("Sync",e),E(!1,!1,a)}})},E=function(t,a,i){r.startTimer("detectionTime");var n=!1,o=!1,s=new d,l=s.get("getBase64ImageCanvas");l.init(new Date(a).getTime());var u=s.get("optionalImageCanvas");return u.init(t),_$.utils.async("ics__nolog",function(t){if(!n&&l.isAvailable()&&(n=!0,i.getBase64ImageCanvas={timeout:!1,type:l.type,value:l.get()}),!o&&u.isAvailable()&&(o=!0,i.optionalImageCanvas={timeout:!1,type:u.type,value:u.get()}),n&&o||t.lastCall){var a;return t.lastCall?(a="sync error",r.error("sync error",{timestampName:n,optionalName:o})):(t.clear(),a="sync done"),s=null,e.register("sync",i,a),void c(i)}},_$.config.get("_ai"),_$.config.get("_maa"))}}var n="string"==typeof a.sess?a.sess:"",s=new v.handler(a.filter);s.getPersistedData(function(t){if(!t){var a=s.checkSyncPersistedData("scope");a&&(t=a)}e.register("persisted",t,"Get persisted data"),i(t)})}function a(){function e(){var e={uid:!1,lastUpdate:!1,updated:!1};try{i.update?(e.uid=i.update.getUid(),e.lastUpdate=i.update.getLastUpdate(),e.updated=!!i.summary,g.updateData=!!i.summary&&i.summary):i.persisted&&(e.uid=i.persisted.getUid(),e.lastUpdate=i.persisted.getLastUpdate(),g.updateData=!1);a(r.getData())}catch(e){r.debug("+StepsHelper"),r.error("getResult",e),r.debug("-StepsHelper")}return e}function a(e){if(g.logResult&&"object"==typeof g.logResult)g.logResult.push(e);else if(g.logResult&&"string"==typeof g.logResult){var t=g.logResult;g.logResult=[t,e]}else g.logResult=e}var i={},o=1,s=new Date;_$.config.get("environment");this.register=function(e,t,a){try{i[e]=t;var n=r.getNow(),c=n-s;s=n,r.debug("register",{step:o+" "+a,elapsedTime:c,time:r.getNowDate()})}catch(e){r.error("register",e)}r.debug("-STEP_"+o),o++,r.debug("+STEP_"+o)},this.hasExpired=function(e,t){var a=!1;r.debug("+StepsHelper");try{if("object"==typeof e&&e){var i,n,o,s,c=parseInt(Math.round(t),10);!isNaN(c)&&c<=_$.config.get("_muf")?(i=c,r.debug("updateFrequency",{updateFrequency:i,param:t})):(i=_$.config.get("_uf"),r.debug("updateFrequency",{updateFrequencyDefault:i,param:t})),n=24*parseInt(i)*60*60*1e3,o=new Date(e.getTime()+n),s=new Date,a=Boolean(o.getTime()<=s.getTime())}}catch(e){r.error("updateFrequency",e)}return r.debug("hasExpired",a),r.debug("-StepsHelper"),a},this.finalize=function(a,i){setTimeout(function(){n.removeHtmlWrapper()},1e3);var o=r.getTime();o>=2e4&&r.error("Extreme_time_elapsed",o),r.commit(i),f.changeStatus("finalized",t.id),"function"==typeof a&&a(e())}}function i(t,i){var n=new a;t?e(n,i):(r.error("init","Dependencies load timeout"+("readyState"in document?" readyState: "+document.readyState:"")),n.finalize(i.callback,null))}function s(e,t){var a=!1,i=function(){if(a||"complete"==document.readyState||"interactive"==document.readyState){var e="{onload: "+a+("readyState"in document?", readyState: "+document.readyState:"")+"}";return r.debug("init","Dependencies loaded, ",e),!0}return!1},n=function(){var e="addEventListener"in window?"addEventListener":"attachEvent",t="attachEvent"==e?"on":"";window[e](t+"load",function(){a=!0},!1)},o=function(){e(!0)},s=function(){e(!1)},c=function(){return _$.utils.async("waitUntilPrepared__nolog",function(e){return i()?(e.clear(),r.debug("init","wait until prepared: is prepared"),o()):e.lastCall?s():void 0},3*_$.config.get("_ai"),_$.config.get("_maa"))};!function(){i()?o():(r.debug("init","Dependencies are NOT prepared"),n(),c())}()}var c=function(e){e="object"==typeof e?e:{},"appDomain"in e&&u(e.appDomain)&&(t._ad=e.appDomain),(!1===e.ssl||t.browser.isIE&&"http:"==location.protocol)&&(t._ap="http://"),t.appUrl=t._ap+t._ad,t.parent="parent"in e?e.parent:"";var a=_$.config.get("_ll");if("logLevel"in e&&e.logLevel.constructor===Array){for(var i=!0,n=0;n<e.logLevel.length;n++)/^[a-z]+$/.test(e.logLevel[n])||(i=!1);i&&(a=e.logLevel)}return r.begin(a),t.useDynamicIframe="useDynamicIframe"in e&&!0===e.useDynamicIframe||_$.config.get("_udif"),t.consoleLog=!!("consoleLog"in e&&!0===e.useDynamicIframe||/consoleLog/.test(location.hash)),_$.config.get("_op")&&(e.detectDeviceData=!1),e},u=function(e){for(var t=!1,a=_$.config.get("_ad"),r=0;r<a.length;r++)e==a[r]&&(t=!0);return t};!function(){t.browser=n.getBrowser()}();this.run=function(e,a){r.startTimer(),t.id=a,g.browser=t.browser;var n=c(e);r.debug("+Main"),r.debug("clientOptions",n),s(function(e){i(e,n)},n)}}};t.prototype.addClosure=function(e){var t,i;a();var o="id"in e?e.id:u()*(Math.random()+1);this.instanceId[o]=e.callback;var s=n();s?(t=this.instantiate(e,o),i="initiated"):(t=null,i="standby"),this.closure.push({instance:t,options:e,detect:Boolean(e.detectDeviceData),status:i,id:o,update:u(),start:u()}),r(),s||this.hasAlarm||c()},t.prototype.persistUid=function(e,t){var a=o(t);a>=0&&("string"==typeof e?(""!=this.uid&&(this.uid=e),this.closure[a].status="hasUid"):this.closure[a].status="noHasUid"),s()},t.prototype.instantiate=function(e,t){var a=new l,r=this;return setTimeout(function(){e.callback=r.instanceId[t],a.Main.run(e,t)},0),a},t.prototype.changeStatus=function(e,t){this.closure[o(t)].status=e,r(),n()||s()};var u=function(){return(new Date).getTime()},d=function(){if(!f.unloadBinded){var e=function(){f.hasSupport&&sessionStorage.setItem("dnaThread","finished")},t=window.addEventListener?"addEventListener":"attachEvent",a="attachEvent"==t?"on":"";window[t](a+"unloand",e,!1),window[t](a+"beforeunload",e,!1)}},f=new t,g={run:function(e){d(),f.addClosure(e)},addEvent:function(e){for(var t in f.closure)f.closure[t].Log.addEvent(e)},browser:null,logResult:null,updateData:null};return g}();